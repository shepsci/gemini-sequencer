{"version":3,"sources":["utils/network.js","App/store.js","assets/audio/clickHi.mp3","assets/audio/clickLow.mp3","App/Tone/index.js","App/reducers/appSlice.js","App/reducers/editorSlice.js","App/reducers/functions/sequence.js","App/reducers/toneSlice.js","utils/storage.js","App/reducers/functions/animations.js","assets/sequences/index.js","assets/kits/remote/remoteKits.js","assets/audio/analog/ch.mp3","assets/audio/analog/clp.mp3","assets/audio/analog/cym.mp3","assets/audio/analog/ht.mp3","assets/audio/analog/kick.mp3","assets/audio/analog/lt.mp3","assets/audio/analog/mt.mp3","assets/audio/analog/oh.mp3","assets/kits/local/analog.js","assets/audio/analog/snr.mp3","assets/kits/local/house.js","assets/audio/house/kick_verb.mp3","assets/audio/house/kick.mp3","assets/audio/house/snr.mp3","assets/audio/house/shk.mp3","assets/audio/house/oh.mp3","assets/audio/house/clp.mp3","assets/audio/house/voc.mp3","assets/audio/house/tom.mp3","assets/audio/house/low_tom.mp3","assets/kits/local/lush.js","assets/audio/lush/kick_long.mp3","assets/audio/lush/kick_mid.mp3","assets/audio/lush/kick_short.mp3","assets/audio/lush/ch.mp3","assets/audio/lush/oh.mp3","assets/audio/lush/snr.mp3","assets/audio/lush/tamb.mp3","assets/audio/lush/plop.mp3","assets/audio/lush/clp.mp3","App/reducers/functions/assets.js","App/reducers/assetsSlice.js","api/index.js","utils/wait.js","App/reducers/functions/sampler.js","App/reducers/thunks/toneThunks.js","App/shared/Button.js","App/reducers/thunks/sequenceThunks.js","App/reducers/sequenceSlice.js","App/shared/Portal.js","utils/getGrid.js","hooks/useTouchAndMouse.js","App/reducers/screenSlice.js","App/shared/Preparing/Preparing.js","App/reducers/functions/user.js","App/reducers/thunks/appThunks.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["HOST","ORIGIN","NETWORK_TIMEOUT","TWITTER_URL","concat","FACEBOOK_URL","configureStore","reducer","assets","assetsReducer","tone","toneReducer","sequence","sequenceReducer","editor","editorReducer","app","appReducer","screen","screenReducer","middleware","getDefaultMiddleware","window","MediaRecorder","notSupported","AudioRecorder","initialClick","async","store","dispatch","startTone","document","removeEventListener","addEventListener","fft","Tone","size","normalRange","recorder","limiter","fan","output","volume","pan","channelCount","connect","mainBus","mixer","getRotaryVal","value","setValFromRotary","val","initialVal","reverb","decay","wet","get","set","filter","frequency","newFreq","warp","pitch","newPitch","newWet","crush","bits","distort","distortion","chain","kitBus","Kit","name","samples","metronome","urls","C1","clickLow","C2","clickHi","toDestination","THEMES","MARIO","JOKER","TMNT","LIGHT","INITIAL_USER","_id","username","loggedIn","initialTheme","getLS","e","console","error","INITIAL_STATE","authToken","user","_objectSpread","fetching","status","count","message","flashInfo","confirmation","online","navigator","onLine","serviceWorkerActive","theme","log","preparingDownload","appSlice","createSlice","initialState","reducers","setAuthToken","state","_ref","payload","logout","setUser","_ref2","setStatus","_ref3","setFlashInfo","_ref4","setFetching","_ref5","setConfirmation","_ref6","setError","_ref7","setOnline","_ref8","setServiceWorkerActive","_ref9","setTheme","_ref0","setLog","_ref1","updateSequencesFinally","_ref10","getUserFinally","_ref11","setPreparingDownload","_ref12","portal","getElementById","style","display","actions","saveSequence","deleteSequence","getUser","appThunks","MODES","INIT","TAP","TAP_RECORD","PAINT","ERASE","SLICE","COPY","MOD_VELOCITY","MOD_LENGTH","MOD_PITCH","INITIAL_MODS","MOD_INFO","EDITOR_MODE_INFO","selectedSample","mode","info","mods","tapCellById","toggleOn","editorSlice","close","edit","sample","setMode","setInfo","setModVal","setTapCellById","id","setToggleOn","getNoteTally","pattern","Array","isArray","noteTally","empty","total","forEach","_","i","step","noteOn","length","inc","dec","initSampleStep","notes","push","INIT_NOTE","velocity","INIT_SAMPLE","INIT_PATTERN","Object","assign","stepRegexp","sampleRegexp","valsRegexp","slicesRegexp","getStrFromPattern","editedPattern","initialPattern","edits","stepEdits","stepEdited","s","sampleEdits","initialSample","getNoteStrFromObj","join","note","getNoteObjFromStr","string","noteVals","match","substr","Number","getEntries","regexp","array","split","entries","len","entry","getPatternFromStr","editString","sampleEditsString","slices","note1","note2","n","indexOf","note0String","note0","getVals","getStrFromMainMixer","editedMainMixer","initialMainMixer","key","newVal","mainMixerPropertyLookup","v","r","f","w","c","d","getMainMixerFromStr","mainMixer","letter","parseInt","getStrFromSampleMixer","editedSampleMixer","initialSampleMixer","vol","sampleEdited","sampleMixerPropertyLookup","p","getSampleMixerFromStr","sampleMixer","property","bufferedKit","buffersLoaded","loadingSamples","transportState","restarting","audioContextReady","loadingError","countIn","cycle","stopAfterCycle","toneSlice","setAudioContextReady","setLoadingSamples","loadSamplesFinally","setStep","pauseSequence","pause","pauseFlashing","addCursor","startFlashing","setTransportState","setRestarting","startSequenceFinally","start","countingIn","stopSequenceFinally","setCountIn","setCycle","loadSamples","schedulePattern","startSequence","stopSequence","toneThunks","_e$target","getState","target","code","field","JSON","parse","localStorage","getItem","setLS","setItem","stringify","getSS","sessionStorage","setSS","querySelectorAll","cell","classList","remove","add","dataset","cursor","removeCursor","prevStep","nextStep","prevCell","nextCell","animateCell","time","schedule","contains","setTimeout","animateSample","sampleBtns","mixItems","_sampleBtns$i","_mixItems$i","_sampleBtns$i2","_mixItems$i2","freqs","spectrum","average","db","prevDb","newDb","prevDbs","drawAnalyzer","startAnalyzer","requestAnimationFrame","animateAnalyzer","stopAnalyzer","freq","removeProperty","now","elapsed","interval","then","Date","getValue","reduce","acc","curr","index","Math","abs","transitionDuration","scaleX","scalex","scaleY","scaley","transform","opacity","analog","kit","bpm","patternStr","mainMixerStr","sampleMixerStr","defaultSequences","vinyl","location","available","path","altCode","color","icon","saffron","punchy","sauce","electric","beatbox","kick","clp","ch","oh","cym","ht","mt","lt","house","lush","deepCopyKits","kits","copyOfKits","copyOfSamples","map","remoteKits","localKits","userSequences","assetsSlice","setKits","setAvailable","setSynched","synched","find","seqId","setFetchingSamples","undefined","setUserSequences","checkCachedKits","cacheKeys","caches","keys","apiGetUser","axios","withCredentials","headers","authorization","apiGetSequence","url","method","data","apiSaveSequence","apiDeleteSequence","preFetchSamples","promises","received","fetch","Promise","all","wait","timeout","func","resolve","addSamplersToKit","kitAssets","connectSample","sampler","onload","channel","scaledGetAndSetVol","scaledGetAndSetPan","sequenceKitName","present","disposeSamplers","_sample$sampler","_sample$channel","dispose","reject","addSamplersPromises","rejectTimer","clearTimeout","buildSamplers","scheduleRepeat","patternStep","recording","triggerStep","slice","triggerAttackRelease","triggerMetronome","triggerAttack","incCycleCount","stopAndCancelEvents","prevCycle","stop","position","cancel","scheduledEvents","_scheduledEvents","clear","startRecord","beat","click","cell0","Button","fwdRef","classes","disabled","startFunc","onClick","type","ariaLabel","children","defaultRef","useRef","ref","pressed","setPressed","useState","handleTouchEnd","onTouchStart","onMouseDown","useTouchAndMouse","_jsx","cuid","slug","className","onTouchEnd","onMouseUp","loadInitialSequence","clearUrl","loadSequence","INITIAL_SEQUENCE","ActionCreators","clearHistory","recordSample","recordSampleFinally","modCell","paintCell","eraseCell","sliceCell","modCellFinally","INITIAL_PATTERN","INITIAL_MAIN_MIXER","INITIAL_SAMPLE_MIXER","MAIN_MIXER_PROPERTIES","min","max","initialValue","snapback","SAMPLE_MIXER_PROPERTIES","undoStatus","initialLoad","sequenceSlice","resetSlice","paste","eraseSample","eraseAll","tally","modAll","resetMods","changeKit","changeBpm","adjustMainMixer","amount","adjustMainMixerWarp","_ref13","resetMainMixerProperty","_ref14","resetMainMixerWarp","adjustSampleMixer","_ref15","resetSampleMixerProperty","_ref16","loadSequenceFinally","setInitialLoad","sequenceThunks","undoable","groupBy","groupByActionTypes","excludeAction","limit","Portal","targetId","ReactDOM","createPortal","getGrid","grid","moveFunc","endFunc","touching","setTouching","mouseDownRef","onMouseMove","current","onTouchMove","ANALYZER_MODES","BARS","WAVE","RIPPLE","GEMINI","getDimensions","vw","documentElement","clientWidth","vh","clientHeight","landscape","mainContainerHeight","appRight","INITIAL_DIMENSIONS","INITIAL_SPLIT","dimensions","splitSamplePanel","analyzer","on","_getSS","screenSlice","setDimensions","setAnalyzerOnFinally","setAnalyzerOn","setAnalyzerMode","resizeTimer","handleResize","redraw","reload","prevWidth","root","preparingPortal","body","Preparing","useMemo","_jsxs","syncCloudSeqs","cloudSeqs","idbSeqs","mergedSeqs","idbUpdate","deletedIds","cloudSeq","toString","deletedId","deleteSeqFromCloud","syncIDBSeqs","idbSeq","userId","author","sharedWith","splice","newSequences","seq","sequences","idbSaveSeqs","deleted","idbDelSeq","flagDeleted","seqs","idbUsername","addIDBUserToPayload","values","mergeSequences","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","App","React","lazy","render","Suspense","fallback","URL","process","href","origin","response","contentType","ready","unregister","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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ACED,KAAM,OACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,SACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,SAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,aACN+T,KAAMvY,IAAO,qBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,WACN+T,KAAMvY,IAAO,qBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,SACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,MACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,YAKCC,EAAU,CACrBnU,KAAM,UACN6T,SAAU,SACVC,WAAW,EACX7T,QAAS,CACP,CACED,KAAM,QACN+T,KAAMvY,IAAO,0BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,8BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,SAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,+BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,SACN+T,KAAMvY,IAAO,2BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,0BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAKCE,EAAS,CACpBpU,KAAM,SACN6T,SAAU,SACVC,WAAW,EACX7T,QAAS,CACP,CACED,KAAM,OACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,MACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,aACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,WACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,SACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,WACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,SAKCG,EAAQ,CACnBrU,KAAM,QACN6T,SAAU,SACVC,WAAW,EACX7T,QAAS,CACP,CACED,KAAM,OACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,qBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,sBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,SAKCI,EAAW,CACtBtU,KAAM,WACN6T,SAAU,SACVC,WAAW,EACX7T,QAAS,CACP,CACED,KAAM,OACN+T,KAAMvY,IAAO,0BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,YACN+T,KAAMvY,IAAO,4BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,YACN+T,KAAMvY,IAAO,4BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,MACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,0BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAKCK,EAAU,CACrBvU,KAAM,UACN6T,SAAU,SACVC,WAAW,EACX7T,QAAS,CACP,CACED,KAAM,YACN+T,KAAMvY,IAAO,8BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,SAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QAER,CACElU,KAAM,QACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,MACN+T,KAAMvY,IAAO,uBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,OACN+T,KAAMvY,IAAO,yBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,MACN+T,KAAMvY,IAAO,wBACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,OAER,CACElU,KAAM,SACN+T,KAAMvY,IAAO,2BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,4BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,MAER,CACElU,KAAM,UACN+T,KAAMvY,IAAO,4BACbwT,KAAM,UACNgF,QAAS,OACTC,MAAO,EACPC,KAAM,QC7dG,UAA0B,+BCA1B,MAA0B,gCCA1B,MAA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","file":"static/js/main.72028239.chunk.js","sourcesContent":["export const HOST = 'https://drumnickydrum-sequencer.herokuapp.com';\nexport const ORIGIN = 'sequencer64.com';\nexport const NETWORK_TIMEOUT = 5000;\nexport const SHARE_TEXT = 'Check%20out%20my%20new%20beat%20using%20%23Sequencer64!%20';\nexport const TWITTER_URL = `https://twitter.com/intent/tweet?text=${SHARE_TEXT}&url=`;\nexport const FACEBOOK_URL = `https://www.facebook.com/sharer/sharer.php?u=`;\n","import { configureStore } from '@reduxjs/toolkit';\nimport sequenceReducer from 'App/reducers/sequenceSlice';\nimport editorReducer from 'App/reducers/editorSlice';\nimport toneReducer from 'App/reducers/toneSlice';\nimport appReducer from 'App/reducers/appSlice';\nimport assetsReducer from 'App/reducers/assetsSlice';\nimport screenReducer from 'App/reducers/screenSlice';\n\nexport default configureStore({\n  reducer: {\n    assets: assetsReducer,\n    tone: toneReducer,\n    sequence: sequenceReducer,\n    editor: editorReducer,\n    app: appReducer,\n    screen: screenReducer,\n  },\n  middleware: (getDefaultMiddleware) => {\n    return getDefaultMiddleware({\n      // immutableCheck: false,\n      // serializableCheck: false,\n    });\n  },\n});\n","export default __webpack_public_path__ + \"static/media/clickHi.9643c745.mp3\";","export default __webpack_public_path__ + \"static/media/clickLow.f5e37169.mp3\";","import { startTone } from 'App/reducers/thunks/toneThunks';\nimport store from 'App/store';\nimport * as Tone from 'tone';\nimport clickHi from 'assets/audio/clickHi.mp3';\nimport clickLow from 'assets/audio/clickLow.mp3';\nimport AudioRecorder from 'audio-recorder-polyfill';\n\nif (!window.MediaRecorder || window.MediaRecorder.notSupported)\n  window.MediaRecorder = AudioRecorder;\n\nconst initialClick = async () => {\n  store.dispatch(startTone());\n  document.removeEventListener('touchstart', initialClick);\n  document.removeEventListener('mousedown', initialClick);\n};\ndocument.addEventListener('touchstart', initialClick);\ndocument.addEventListener('mousedown', initialClick);\n\nexport const fft = new Tone.FFT({\n  size: 32,\n  normalRange: true,\n});\n\nexport const recorder = new Tone.Recorder();\nconst limiter = new Tone.Limiter(-18).fan(recorder, Tone.Destination);\nconst output = new Tone.Channel({ volume: 0, pan: 0, channelCount: 2 }).connect(limiter);\n\nexport const mainBus = new Tone.Channel({ volume: 0, pan: 0, channelCount: 2 });\nmainBus.mixer = {\n  volume: {\n    getRotaryVal: () => {\n      let value = mainBus.volume.value * 4 + 100;\n      if (value > 100) value = 100;\n      return value;\n    },\n    setValFromRotary: (val) => {\n      mainBus.volume.value = (val - 100) * 0.25;\n    },\n    initialVal: 100,\n  },\n};\n\nmainBus.mixer.reverb = new Tone.Reverb({ decay: 2, wet: 0 });\nmainBus.mixer.reverb.getRotaryVal = () => mainBus.mixer.reverb.get().wet * 100;\nmainBus.mixer.reverb.setValFromRotary = (val) => mainBus.mixer.reverb.set({ wet: val / 100 });\n\nmainBus.mixer.filter = new Tone.Filter(20000, 'lowpass', -48);\nmainBus.mixer.filter.getRotaryVal = () => mainBus.mixer.filter.get().frequency / 200;\nmainBus.mixer.filter.setValFromRotary = (val) => {\n  let newFreq = val === 100 ? 20000 : val * 100;\n  mainBus.mixer.filter.set({ frequency: newFreq });\n};\n\nmainBus.mixer.warp = new Tone.PitchShift({ pitch: 0, wet: 0 });\nmainBus.mixer.warp.getRotaryVal = () => (mainBus.mixer.warp.get().pitch + 25) * 2;\nmainBus.mixer.warp.setValFromRotary = (val) => {\n  const newPitch = (val - 50) / 2;\n  const newWet = newPitch === 0 ? 0 : 1;\n  mainBus.mixer.warp.set({ pitch: newPitch, wet: newWet });\n};\n\nmainBus.mixer.crush = new Tone.BitCrusher({ bits: 4, wet: 0 });\nmainBus.mixer.crush.getRotaryVal = () => mainBus.mixer.crush.get().wet * 100;\nmainBus.mixer.crush.setValFromRotary = (val) => mainBus.mixer.crush.set({ wet: val / 100 });\n\nmainBus.mixer.distort = new Tone.Distortion({ distortion: 0.5, wet: 0 });\nmainBus.mixer.distort.getRotaryVal = () => mainBus.mixer.distort.get().wet * 100;\nmainBus.mixer.distort.setValFromRotary = (val) =>\n  mainBus.mixer.distort.set({ wet: val / 100 });\n\nmainBus.chain(\n  mainBus.mixer.crush,\n  mainBus.mixer.distort,\n  mainBus.mixer.warp,\n  mainBus.mixer.filter,\n  mainBus.mixer.reverb,\n  output\n);\n\nexport const kitBus = new Tone.Channel({ volume: 0, pan: 0, channelCount: 2 });\nkitBus.chain(fft, mainBus);\n\nexport const Kit = { name: 'init', samples: [{}] };\n\nexport const metronome = new Tone.Sampler({\n  urls: {\n    C1: clickLow,\n    C2: clickHi,\n  },\n}).toDestination();\n","import { createSlice } from '@reduxjs/toolkit';\nimport store from 'App/store';\nimport { getLS } from 'utils/storage';\nimport * as appThunks from './thunks/appThunks';\n\nexport const THEMES = {\n  MARIO: 'Mario',\n  JOKER: 'Joker',\n  TMNT: 'TMNT',\n  LIGHT: 'Light',\n};\n\nexport const INITIAL_USER = {\n  _id: '',\n  username: '',\n  loggedIn: false,\n};\n\nlet initialTheme;\ntry {\n  initialTheme = getLS('theme');\n} catch (e) {\n  console.error('Error getting theme from local storage', e);\n}\n\nconst INITIAL_STATE = {\n  authToken: getLS('authToken') || null,\n  user: { ...INITIAL_USER },\n  fetching: false,\n  status: { count: 0, message: 'loading' },\n  flashInfo: false,\n  confirmation: '',\n  error: '',\n  online: window.navigator.onLine,\n  serviceWorkerActive: false,\n  theme: initialTheme || THEMES.MARIO,\n  log: { count: 0, message: '' },\n  preparingDownload: false,\n};\n\nexport const appSlice = createSlice({\n  name: 'app',\n  initialState: INITIAL_STATE,\n  reducers: {\n    setAuthToken: (state, { payload }) => {\n      state.authToken = payload;\n    },\n    logout: (state) => {\n      state.authToken = null;\n      state.user = { ...INITIAL_USER };\n      state.status.count++;\n      state.status.message = 'Successfully logged out';\n    },\n    setUser: (state, { payload: { user, message } }) => {\n      state.user = user;\n      state.status.count++;\n      state.status.message = message;\n    },\n    setStatus: (state, { payload }) => {\n      state.status.count++;\n      state.status.message = `${state.status.count}#${payload}`;\n    },\n    setFlashInfo: (state, { payload }) => {\n      state.flashInfo = payload;\n    },\n    setFetching: (state, { payload }) => {\n      state.fetching = payload;\n    },\n    setConfirmation: (state, { payload }) => {\n      state.confirmation = payload;\n    },\n    setError: (state, { payload }) => {\n      state.error = payload;\n    },\n    setOnline: (state, { payload }) => {\n      state.online = payload;\n    },\n    setServiceWorkerActive: (state, { payload }) => {\n      state.serviceWorkerActive = payload;\n    },\n    setTheme: (state, { payload }) => {\n      state.theme = payload;\n    },\n    setLog: (state, { payload }) => {\n      state.log.count++;\n      state.log.message = payload;\n    },\n    updateSequencesFinally: (state, { payload: { message, error, confirmation } }) => {\n      state.status.count++;\n      state.status.message = message;\n      if (confirmation) state.confirmation = confirmation;\n      if (error) state.error = error;\n      state.fetching = false;\n    },\n    getUserFinally: (state, { payload: { loggedIn, _id, username, message } }) => {\n      state.user.loggedIn = loggedIn;\n      state.user._id = _id;\n      state.user.username = username;\n      state.status.count++;\n      state.status.message = message;\n      state.fetching = false;\n    },\n    setPreparingDownload: (state, { payload }) => {\n      state.preparingDownload = payload;\n      const portal = document.getElementById('preparingPortalTop');\n      if (payload && portal) portal.style.display = 'initial';\n      if (!payload && portal) portal.style.display = 'none';\n    },\n  },\n});\n\nexport const {\n  setAuthToken,\n  logout,\n  setUser,\n  setStatus,\n  setFlashInfo,\n  setFetching,\n  setConfirmation,\n  setError,\n  setOnline,\n  setServiceWorkerActive,\n  setTheme,\n  setLog,\n  updateSequencesFinally,\n  getUserFinally,\n  setPreparingDownload,\n} = appSlice.actions;\n\nexport const { saveSequence, deleteSequence, getUser } = appThunks;\n\nexport default appSlice.reducer;\n\nwindow.addEventListener('online', () => store.dispatch(setOnline(true)));\nwindow.addEventListener('offline', () => store.dispatch(setOnline(false)));\n","import { createSlice } from '@reduxjs/toolkit';\n\nexport const MODES = {\n  INIT: 'INIT',\n  TAP: 'Play',\n  TAP_RECORD: 'Record',\n  PAINT: 'PAINT',\n  ERASE: 'ERASE',\n  SLICE: 'SLICE',\n  COPY: 'COPY',\n  MOD_VELOCITY: 'velocity',\n  MOD_LENGTH: 'length',\n  MOD_PITCH: 'pitch',\n};\n\nexport const INITIAL_MODS = {\n  [MODES.MOD_VELOCITY]: 1,\n  [MODES.MOD_LENGTH]: 1,\n  [MODES.MOD_PITCH]: 'C2',\n};\n\nexport const MOD_INFO = 'Change value then tap cells to apply';\nexport const EDITOR_MODE_INFO = {\n  [MODES.TAP]: 'Tap to play instrument',\n  [MODES.TAP_RECORD]: 'Press record then tap instruments',\n  [MODES.INIT]: 'Select an instrument to edit',\n  [MODES.MOD_VELOCITY]: MOD_INFO,\n  [MODES.MOD_LENGTH]: MOD_INFO,\n  [MODES.MOD_PITCH]: MOD_INFO,\n};\n\nconst INITIAL_STATE = {\n  selectedSample: -1,\n  mode: MODES.INIT,\n  info: EDITOR_MODE_INFO[MODES.INIT],\n  mods: { ...INITIAL_MODS },\n  tapCellById: {},\n  toggleOn: true,\n};\n\nexport const editorSlice = createSlice({\n  name: 'editor',\n  initialState: INITIAL_STATE,\n  reducers: {\n    close: (state) => {\n      state.selectedSample = INITIAL_STATE.selectedSample;\n      state.mode = INITIAL_STATE.mode;\n    },\n    edit: (state, { payload: { sample } }) => {\n      state.selectedSample = sample;\n      state.mode = MODES.PAINT;\n    },\n    setMode: (state, { payload }) => {\n      state.mode = payload;\n      const tapModes = state.mode === MODES.TAP || state.mode === MODES.TAP_RECORD;\n      if (tapModes || state.mode === MODES.INIT) {\n        state.selectedSample = -1;\n      }\n    },\n    setInfo: (state, { payload }) => {\n      state.info = payload;\n    },\n    setModVal: (state, { payload }) => {\n      state.mods[state.mode] = payload;\n    },\n    setTapCellById: (state, { payload: { id, val } }) => {\n      state.tapCellById[id] = val;\n    },\n    setToggleOn: (state, { payload }) => {\n      state.toggleOn = payload;\n    },\n  },\n});\n\nexport const {\n  close,\n  edit,\n  setMode,\n  setInfo,\n  setModVal,\n  setTapCellById,\n  setToggleOn,\n} = editorSlice.actions;\n\nexport default editorSlice.reducer;\n","export const getNoteTally = (pattern) => {\n  if (!Array.isArray(pattern)) {\n    console.log('getNoteTally -> pattern is not an array');\n    return;\n  }\n  let noteTally = {\n    '-1': { count: 0, empty: true },\n    total: { count: 0, empty: true },\n  };\n  pattern[0].forEach((_, i) => {\n    noteTally[i] = { count: 0, empty: true };\n  });\n  pattern.forEach((step) => {\n    step.forEach((sample, i) => {\n      if (sample.noteOn) {\n        noteTally[i].count++;\n        noteTally.total.count++;\n      }\n    });\n  });\n  for (let i = 0; i < pattern[0].length; i++) {\n    if (noteTally[i].count) {\n      noteTally[i].empty = false;\n      noteTally.total.empty = false;\n    }\n  }\n  return noteTally;\n};\n\nexport const inc = (noteTally, sample) => {\n  noteTally[sample].count++;\n  noteTally[sample].empty = false;\n  noteTally.total.count++;\n  noteTally.total.empty = false;\n};\n\nexport const dec = (noteTally, sample) => {\n  noteTally[sample].count--;\n  if (noteTally[sample].count === 0) noteTally[sample].empty = true;\n  noteTally.total.count--;\n  if (noteTally.total.count === 0) noteTally.total.empty = true;\n};\n\nexport const initSampleStep = (sample) => {\n  sample.noteOn = false;\n  sample.notes.length = 0;\n  sample.notes.push(INIT_NOTE());\n};\n\nexport const INIT_NOTE = () => ({ pitch: 'C2', velocity: 1, length: 1 });\n\nexport const INIT_SAMPLE = () => ({\n  noteOn: false,\n  notes: [INIT_NOTE()],\n});\n\nexport const INIT_PATTERN = () => {\n  let pattern = [];\n  let step = [];\n  for (let i = 0; i < 9; i++) {\n    step.push(INIT_SAMPLE());\n  }\n  for (let i = 0; i < 64; i++) {\n    // Object.assign req'd to not mutate previous edits in loop\n    pattern.push(Object.assign([], step));\n  }\n  return pattern;\n};\n\nconst stepRegexp = /S(\\d+)/g;\nconst sampleRegexp = /s(\\d+)/g;\nconst valsRegexp = /p\\w#?\\d|v\\d+(?:\\.\\d+)?|l\\d+(?:\\.\\d+)?/g;\nconst slicesRegexp = /(n1.*)(n2.*)|n1.*$|n2.*$/;\n\nexport const getStrFromPattern = (editedPattern) => {\n  const initialPattern = INIT_PATTERN();\n  const edits = [];\n  editedPattern.forEach((step, i) => {\n    const stepEdits = [];\n    let stepEdited = false;\n    step.forEach((sample, s) => {\n      const sampleEdits = [];\n      const initialSample = initialPattern[i][s];\n      if (sample.noteOn !== initialSample.noteOn) {\n        sampleEdits.push(sample.noteOn ? 't' : 'f');\n      }\n      if (sample.notes[0].pitch !== initialSample.notes[0].pitch) {\n        sampleEdits.push('p' + sample.notes[0].pitch);\n      }\n      if (sample.notes[0].velocity !== initialSample.notes[0].velocity) {\n        sampleEdits.push('v' + sample.notes[0].velocity);\n      }\n      if (sample.notes[0].velocity !== initialSample.notes[0].length) {\n        sampleEdits.push('l' + sample.notes[0].length);\n      }\n      if (sample.notes[1]) {\n        sampleEdits.push('n1' + getNoteStrFromObj(sample.notes[1]));\n      }\n      if (sample.notes[2]) {\n        sampleEdits.push('n2' + getNoteStrFromObj(sample.notes[2]));\n      }\n      if (sampleEdits.length > 0) {\n        stepEdited = true;\n        stepEdits.push(`s${s}${sampleEdits.join('')}`);\n      }\n    });\n    if (stepEdited) {\n      edits.push(`S${i}${stepEdits.join('')}`);\n    }\n  });\n  const string = edits.join('');\n  return string || 'init';\n};\n\nconst getNoteStrFromObj = (note) => `p${note.pitch}v${note.velocity}l${note.length}`;\n\nconst getNoteObjFromStr = (string) => {\n  const noteVals = INIT_NOTE();\n  const edits = string.match(valsRegexp);\n  if (edits) {\n    edits.forEach((edit) => {\n      switch (edit[0]) {\n        case 'p':\n          noteVals.pitch = edit.substr(1);\n          break;\n        case 'v':\n          noteVals.velocity = Number(edit.substr(1));\n          break;\n        case 'l':\n          noteVals.length = Number(edit.substr(1));\n          break;\n        default:\n          break;\n      }\n    });\n  }\n  return noteVals;\n};\n\nconst getVals = (string) => {\n  let sample = { noteOn: false, notes: [] };\n  const slices = string.match(slicesRegexp);\n  if (slices) {\n    let note1, note2;\n    if (slices[1]) {\n      note1 = getNoteObjFromStr(slices[1]);\n    } else {\n      note1 = getNoteObjFromStr(slices[0]);\n    }\n    if (slices[2]) {\n      note2 = getNoteObjFromStr(slices[2]);\n    }\n    const n = string.indexOf('n');\n    const note0String = string.substr(0, n);\n    const note0 = getNoteObjFromStr(note0String);\n    sample.notes.push(note0, note1);\n    if (note2) sample.notes.push(note2);\n  } else {\n    const note0 = getNoteObjFromStr(string);\n    sample.notes.push(note0);\n  }\n  if (string[0] === 't') sample.noteOn = true;\n  if (string[0] === 'f') sample.noteOn = false;\n  return sample;\n};\n\nconst getEntries = (string, regexp) => {\n  const array = string.split(regexp);\n  const entries = [];\n  for (let i = 1, len = array.length; i < len; i += 2) {\n    let key = array[i];\n    let val = array[i + 1];\n    let entry = [key, val];\n    entries.push(entry);\n  }\n  return entries;\n};\n\nexport const getPatternFromStr = (editString) => {\n  const pattern = INIT_PATTERN();\n  if (editString === 'init') return pattern;\n  const stepEntries = getEntries(editString, stepRegexp);\n  stepEntries.forEach(([step, sampleEditsString]) => {\n    const sampleEntries = getEntries(sampleEditsString, sampleRegexp);\n    sampleEntries.forEach(([sample, edits]) => {\n      pattern[step][sample] = getVals(edits);\n    });\n  });\n  return pattern;\n};\n\nconst INIT_MAIN_MIXER = () => ({\n  volume: 76,\n  reverb: 0,\n  filter: 100,\n  warp: 50,\n  crush: 0,\n  distort: 0,\n});\n\nexport const getStrFromMainMixer = (editedMainMixer) => {\n  const initialMainMixer = INIT_MAIN_MIXER();\n  const edits = [];\n  for (let [key, val] of Object.entries(initialMainMixer)) {\n    const newVal = editedMainMixer[key];\n    if (val !== newVal) edits.push(key.substr(0, 1), newVal);\n  }\n  const string = edits.join('');\n  return string || 'init';\n};\n\nconst mainMixerPropertyLookup = {\n  v: 'volume',\n  r: 'reverb',\n  f: 'filter',\n  w: 'warp',\n  c: 'crush',\n  d: 'distort',\n};\n\nexport const getMainMixerFromStr = (string) => {\n  const mainMixer = INIT_MAIN_MIXER();\n  if (string === 'init') return mainMixer;\n  const edits = string.split(/([a-z]\\d+)/g);\n  for (let edit of edits) {\n    if (!edit) continue;\n    const [, letter, val] = edit.split(/([a-z])(\\d+)/);\n    const property = mainMixerPropertyLookup[letter];\n    mainMixer[property] = parseInt(val);\n  }\n  return mainMixer;\n};\n\nconst INIT_SAMPLE_MIXER = () => [\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n  { vol: 100, pan: 50 },\n];\n\nexport const getStrFromSampleMixer = (editedSampleMixer) => {\n  const initialSampleMixer = INIT_SAMPLE_MIXER();\n  const edits = [];\n  editedSampleMixer.forEach((sample, i) => {\n    let sampleEdits = [];\n    let sampleEdited = false;\n    for (let [key, val] of Object.entries(sample)) {\n      if (initialSampleMixer[i][key] !== val) {\n        sampleEdits.push(key.substr(0, 1), val);\n        sampleEdited = true;\n      }\n    }\n    if (sampleEdited) edits.push('S', i, ...sampleEdits);\n  });\n  const string = edits.join('');\n  return string || 'init';\n};\n\nconst sampleMixerPropertyLookup = { v: 'vol', p: 'pan' };\n\nexport const getSampleMixerFromStr = (string) => {\n  const sampleMixer = INIT_SAMPLE_MIXER();\n  if (string === 'init') return sampleMixer;\n  const edits = string.split(/S/g);\n  for (let edit of edits) {\n    if (!edit) continue;\n    const [, sample, letter, val] = edit.split(/(\\d)([v|p])(\\d+)/);\n    const property = sampleMixerPropertyLookup[letter];\n    sampleMixer[sample][property] = parseInt(val);\n  }\n  return sampleMixer;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport * as Tone from 'tone';\nimport { addCursor, pauseFlashing, startFlashing } from 'App/reducers/functions/animations';\nimport * as toneThunks from './thunks/toneThunks';\nimport store from 'App/store';\n\nconst INITIAL_STATE = {\n  bufferedKit: null,\n  buffersLoaded: false,\n  loadingSamples: false,\n  transportState: Tone.Transport.state,\n  restarting: false,\n  step: 0,\n  audioContextReady: false,\n  loadingError: { error: false, count: 0 },\n  countIn: '',\n  cycle: 1,\n  stopAfterCycle: null,\n};\n\nexport const toneSlice = createSlice({\n  name: 'tone',\n  initialState: INITIAL_STATE,\n  reducers: {\n    setAudioContextReady: (state, { payload }) => {\n      state.audioContextReady = payload;\n    },\n    setLoadingSamples: (state, { payload }) => {\n      state.loadingSamples = payload;\n    },\n    loadSamplesFinally: (state, { payload }) => {\n      state.loadingSamples = payload.loadingSamples;\n      state.buffersLoaded = payload.buffersLoaded;\n      state.bufferedKit = payload.bufferedKit;\n      state.loadingError.error = payload.loadingError;\n      if (payload.loadingError) {\n        state.loadingError.count++;\n      } else {\n        state.loadingError.count = 0;\n      }\n    },\n    setStep: (state, { payload }) => {\n      state.step = payload;\n    },\n    pauseSequence: (state) => {\n      Tone.Transport.pause();\n      pauseFlashing();\n      addCursor(state.step);\n      startFlashing();\n      state.transportState = 'paused';\n    },\n    setTransportState: (state, { payload }) => {\n      state.transportState = payload;\n    },\n    setRestarting: (state, { payload }) => {\n      state.restarting = payload;\n    },\n    startSequenceFinally: (state, { payload }) => {\n      if (payload) state.stopAfterCycle = payload;\n      state.restarting = false;\n      state.transportState = 'started';\n      Tone.Transport.start();\n      state.countingIn = false;\n    },\n    stopSequenceFinally: (state) => {\n      state.step = 0;\n      state.cycle = 1;\n      state.stopAfterCycle = null;\n      state.transportState = 'stopped';\n    },\n    setCountIn: (state, { payload }) => {\n      state.countIn = payload;\n    },\n    setCycle: (state, { payload }) => {\n      state.cycle = payload;\n    },\n  },\n});\n\nexport const {\n  setAudioContextReady,\n  setLoadingSamples,\n  loadSamplesFinally,\n  setStep,\n  pauseSequence,\n  setTransportState,\n  setRestarting,\n  startSequenceFinally,\n  stopSequenceFinally,\n  setCountIn,\n  setCycle,\n} = toneSlice.actions;\n\nexport const { startTone, loadSamples, schedulePattern, startSequence, stopSequence } =\n  toneThunks;\n\nexport default toneSlice.reducer;\n\ndocument.addEventListener('keydown', (e) => {\n  if (!store.getState().tone.buffersLoaded) return;\n  if (e.target?.id === 'saveSequenceInput') return;\n\n  if (e.code === 'Space') {\n    if (Tone.Transport.state === 'started') store.dispatch(pauseSequence());\n    else store.dispatch(startSequence());\n  }\n});\n","export const getLS = (field) => JSON.parse(localStorage.getItem(field));\nexport const setLS = (field, value) =>\n  localStorage.setItem(field, JSON.stringify(value));\n\nexport const getSS = (field) => JSON.parse(sessionStorage.getItem(field));\nexport const setSS = (field, value) =>\n  sessionStorage.setItem(field, JSON.stringify(value));\n","import { fft } from 'App/Tone';\nimport * as Tone from 'tone';\n\nexport const startFlashing = () => {\n  const flashingCells = document.querySelectorAll('.flashing');\n  flashingCells.forEach((cell) => cell.classList.remove('pause'));\n};\n\nexport const pauseFlashing = () => {\n  const flashingCells = document.querySelectorAll('.flashing');\n  flashingCells.forEach((cell) => cell.classList.add('pause'));\n};\n\nexport const addCursor = (step) => {\n  const cell = document.getElementById(`cell-${step}`);\n  if (cell) cell.dataset.cursor = 'true';\n};\n\nexport const removeCursor = (length, step) => {\n  const prevStep = step - 1 > 0 ? step - 1 : length - 1;\n  const nextStep = (step + 1) % length;\n  const cell = document.getElementById(`cell-${step}`);\n  const prevCell = document.getElementById(`cell-${prevStep}`);\n  const nextCell = document.getElementById(`cell-${nextStep}`);\n  if (cell) cell.dataset.cursor = false;\n  if (prevCell) prevCell.dataset.cursor = false;\n  if (nextCell) nextCell.dataset.cursor = false;\n};\n\nexport const animateCell = (time, cell) => {\n  Tone.Draw.schedule(() => {\n    if (cell.classList.contains('on')) {\n      cell.classList.add('pulse');\n      setTimeout(() => cell.classList.remove('pulse'), 0);\n    } else {\n      cell.classList.add('flash');\n      setTimeout(() => cell.classList.remove('flash'), 0);\n    }\n  }, time);\n};\n\nexport const animateSample = (time, step) => {\n  const sampleBtns = document.querySelectorAll('.sampleBtn');\n  const mixItems = document.querySelectorAll('.mixItem');\n  Tone.Draw.schedule(() => {\n    step.forEach((sample, i) => {\n      if (sample.noteOn) {\n        sampleBtns && sampleBtns[i]?.classList.add('pulse');\n        mixItems && mixItems[i]?.classList.add('pulse');\n        setTimeout(() => {\n          sampleBtns && sampleBtns[i]?.classList.remove('pulse');\n          mixItems && mixItems[i]?.classList.remove('pulse');\n        }, 0);\n      }\n    });\n  }, time);\n};\n\nlet freqs, spectrum, average, i, db, prevDb, newDb;\nconst prevDbs = new Array(36);\nlet drawAnalyzer;\nexport const startAnalyzer = () => {\n  if (drawAnalyzer) return;\n  freqs = document.querySelectorAll('.freq');\n  drawAnalyzer = true;\n  requestAnimationFrame(animateAnalyzer);\n};\nexport const stopAnalyzer = () => {\n  drawAnalyzer = false;\n  setTimeout(() => {\n    freqs = document.querySelectorAll('.freq');\n    freqs.forEach((freq) => {\n      freq.style.removeProperty('transform');\n      freq.style.removeProperty('filter');\n      freq.style.removeProperty('opacity');\n    });\n  }, 20);\n};\n\nlet fps = 60;\nlet interval = 1000 / fps;\nlet then = Date.now();\nlet now, elapsed;\nfunction animateAnalyzer() {\n  now = Date.now();\n  elapsed = now - then;\n  if (elapsed > interval) {\n    then = now;\n    spectrum = fft.getValue();\n    average = spectrum.reduce((acc, curr) => acc + curr) / spectrum.length;\n    freqs.forEach((freq, index) => {\n      i = index + 2; // first two freqs of fft are hyped\n      db = Math.abs(spectrum[i] + average) * 100;\n      prevDb = prevDbs[i] + 0.15;\n      newDb = db < prevDb ? 0 : db > 1 ? 1 : db;\n      prevDbs[i] = db;\n      if (newDb !== prevDb) {\n        freq.style.transitionDuration = newDb ? '60ms' : '1s';\n        let scaleX = freq.dataset.scalex;\n        if (scaleX !== '1') scaleX = newDb * 0.25;\n        let scaleY = freq.dataset.scaley;\n        if (scaleY !== '1') scaleY = newDb;\n        let transform = `scale(${scaleX}, ${scaleY})`;\n        freq.style.transform = transform;\n        // let blur = freq.dataset.blur - newDb * 100;\n        // if (blur < 0) blur = 0;\n        // freq.style.filter = `blur(${blur}px)`;\n        freq.style.opacity = newDb + 0.5;\n      }\n    });\n  }\n  if (drawAnalyzer) requestAnimationFrame(animateAnalyzer);\n}\n","export const analog = {\n  _id: 'defaultAnalog',\n  name: 'analog',\n  kit: 'analog',\n  bpm: 100,\n  length: 64,\n  patternStr:\n    'S0s0ts3tn1pC2v1l1s5tS1s3tS2s3tS3s3tS4s1tS5s3tS6s0ts3tS7s3tS8s3tn1pC2v1l1n2pC2v1l1S9s3tS10s3tS11s0ts3tS12s1ts2tS13s3tS14s3tS15s3tS16s0tS17s3tS18s3tS19s0ts3tS20s1tS21s3tS22s0ts3tS23s0ts3tS25s3tS26s0ts3ts4tS27s3tS28s1ts2tS29s3tS30s3tS31s3tS32s0tS33s3tS34s3tS35s3tS36s1tS37s3tS38s0ts3tS39s3tS41s3tS42s0ts3tS43s3tS44s1ts2tS45s3tS46s3tS47s3tS48s0ts6tS49s3ts6tS50s3tS51s0ts3ts6tS52s1tS53s3ts7tS54s3ts6tS55s1ts3ts7tS56s0tS57s3ts7tS58s0ts1ts3ts4ts7tS59s3ts8tS60s1ts2ts4ts6tS61s0ts1ts3ts7tS62s0ts1ts3ts4ts7ts8tS63s0ts3ts8t',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S6p29S7p38S8p71',\n};\n\nexport const house = {\n  _id: 'defaultHouse',\n  name: 'house',\n  kit: 'house',\n  bpm: 120,\n  length: 64,\n  patternStr:\n    'S0s0ts1ts6tS1s3tv0.5l1S2s3ts4tS3s3tv0.5l1S4s1ts5tS5s3tS6s3tv0.5l1s4tS7s3tS8s1tS9s3tv0.5l1S10s0ts3ts4tS11s3tv0.5l1s8tS12s1ts2ts5tS13s3tS14s3tv0.5l1s4ts8tv0.5l1S15s3tS16s1tS17s3tv0.5l1S18s3ts4tS19s3tv0.5l1S20s1ts5tS21s3tv0.5l1S22s3ts4ts7tS23s3tv0.5l1s5tv0.5l1S24s1tS25s3tv0.5l1S26s0ts3ts4ts6tS27s3tv0.5l1s8tS28s1ts2ts5tS29s3tv0.5l1S30s3tv0.5l1s4ts8tv0.5l1S31s3tv0.5l1S32s0ts1ts6tS33s3tv0.5l1S34s3ts4tS35s3tv0.5l1S36s1ts5tS37s3tv0.5l1S38s3ts4tS39s3tv0.5l1S40s1tS41s3tv0.5l1S42s0ts3ts4tS43s3tv0.5l1s8tS44s1ts2ts5tS45s3tv0.5l1S46s3ts4ts8tv0.5l1S47s3tv0.5l1S48s1tS49s3tv0.5l1S50s3ts4tS51s3tv0.5l1s6tS52s1ts5tS53s3tv0.5l1S54s3ts4ts6ts7tS55s3tv0.5l1s5tv0.5l1s6tv0.5l1S56s1tS57s3tv0.5l1S58s0ts3ts4ts6tS59s3tv0.5l1s8tS60s1ts2ts5tS61s3tS62s3ts4ts5ts8tv0.5l1S63s3t',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S3p33S4p69S7p23S8p79',\n};\nexport const burn = {\n  _id: 'defaultBurn',\n  name: 'burn',\n  kit: 'lush',\n  bpm: 80,\n  length: 64,\n  patternStr:\n    'S0s0ts1ts3tS2s3tS3s2tS4s3ts5ts8tS5s3tv0.5l1S6s1ts3tS7s3tv0.5l1S8s3tS9s2ts3tv0.5l1S10s1ts3ts4tS12s3ts7ts8tS14s3tS16s0ts1ts3ts6tS17s5tv0.5l1S18s3ts6tS19s2tS20s3ts5ts6ts8tS21s3tv0.5l1s6tv0.5l1S22s1ts3ts6tS23s3tv0.5l1s5tv0.5l1s6tv0.5l1S24s3ts6tS25s2ts3tv0.5l1s5tv0.5l1s6tv0.5l1S26s1ts3ts4ts6tS27s6tv0.5l1S28s3ts6ts7ts8tS30s3tS32s0ts1ts3tS34s3tS35s2tS36s3ts5ts8tS37s3tv0.5l1S38s1ts3tS39s3tv0.5l1S40s3tS41s2ts3tv0.5l1S42s1ts4tS43s3tv0.5l1S44s3ts7ts8tS46s3tS48s0ts1ts3ts6tS49s5tv0.5l1S50s3ts6tS51s1ts2tS52s3ts5ts6ts8tS53s3tv0.5l1s6tv0.5l1S54s1ts3ts5tv0.5l1s6tS55s3tv0.5l1s5tv0.5l1s6tv0.5l1S56s3ts6tS57s2ts3tv0.5l1s5tv0.5l1s6tv0.5l1S58s1ts3ts4ts6tS59s3tv0.5l1s6tv0.5l1S60s3ts6ts7ts8tS61s3tS62s3tS63s3t',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S3p26S6p68',\n};\n\nexport const vinyl = {\n  _id: 'defaultVinyl',\n  name: 'vinyl',\n  kit: 'vinyl',\n  bpm: 90,\n  length: 64,\n  patternStr:\n    'S0s0ts1ts7tS1s1tv0.5l1s8tS2s3ts7tS3s1tS4s2ts5ts8tS5s7tv0.5l1S6s0ts3tS7s1ts7tv0.5l1s8tS9s1ts7ts8tS10s0ts3tS11s7tS12s2ts5ts8tS13s7tv0.5l1S14s3ts7tS15s7tv0.5l1S16s0ts1ts7tS17s1tv0.5l1s8tS18s3ts7tS20s2ts5ts8tS21s7tv0.5l1S22s0ts3tS23s7tv0.5l1s8tS25s1ts7ts8tS26s0ts3tS27s7tS28s2ts5ts8tS29s7tv0.5l1S30s3ts7tS31s7tv0.5l1S32s0ts1tS33s1tv0.5l1s8tS34s3tS35s1tS36s2ts5ts8tS38s0ts3tS39s1ts3tv0.5l1s8tS41s3tv0.5l1s8tS42s3tS43s3tv0.5l1S44s2ts3ts5ts8tS46s3tS48s0tS50s3tS52s2ts5ts8tS54s3tS55s3tv0.5l1s8tS56s8tS57s3tv0.5l1s8tS58s0ts3tS60s2ts5ts8t',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S3p23S6v72S7v90',\n};\n\nexport const sauce = {\n  _id: 'defaultSauce',\n  name: 'sauce',\n  kit: 'sauce',\n  bpm: 120,\n  length: 64,\n  patternStr:\n    'S0s0ts5tS2s3tS3s5tS4s1ts3tn1pC2v1l0.085s6tS5s3tpE2n1pE2v1l0.085S6s3tpG2n1pG2v1l0.085s5tS7s3tpC3n1pC3v1l0.085S8s2ts7tpG2S9s5tS10s0tS12s1ts5ts6tS15s5tS18s2tS19s5tS20s1ts6tS22s5tS24s2tS25s5tS26s0tv0.51l1S28s0ts1ts4tpC3s5ts6tS29s4pC3S30s4tpC3s5tS31s4pC3S35s5tS36s1ts6tS38s5tS40s2tS41s5tS42s8tpE2S44s0ts1ts5ts6tS45s0tS46s5ts6ts8pG2S50s2tS51s5tS52s1ts6tS54s5tS56s0ts2tS57s0ts5tS60s0ts1ts4tpC3s5ts6tS61s4pA2s5tS62s4tpF2s5tS63s5t',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S4v72p13S5v55p81',\n};\n\nexport const funky = {\n  _id: 'defaultFunky',\n  name: 'funky',\n  kit: 'punchy',\n  bpm: 110,\n  length: 64,\n  patternStr:\n    'S0s0ts5tS1s3tS2s2tS3s0tS4s1tS6s4tS7s2tS8s0tS9s3tS10s2tS11s0tS12s1tS15s2ts4tS16s0tS17s3tS18s2tS19s0tS20s1tS21s0tv0.63l1S22s0ts4tS23s1tS24s0tS25s3tS26s2tS27s0tS28s1ts4tS30s4tS31s2tS32s0tS33s3tS34s2tS35s0tS36s1tS38s4tS39s2tS40s0tS41s3tS42s2tS43s0tS44s1tS47s2ts6tn1pC2v1l1S48s0ts6tS49s3tS50s2tS51s0ts6tS52s1tS53s0tv0.63l1s7tn1pC2v1l1S54s0ts4ts7tS55s1tS56s0tS57s3ts8tS58s2tS59s0ts8tv0.59l1S60s1ts4ts8tS61s8tpG1v0.59l1S62s1ts4ts8tpG1S63s1ts8pF1',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S4v88S6v92p27S7v92p37S8p70',\n};\n\nexport const saffron = {\n  _id: 'defaultSaffron',\n  name: 'saffron',\n  kit: 'saffron',\n  bpm: 90,\n  length: 64,\n  patternStr:\n    'S0s0ts1ts3ts6tpC1s7ts8tpC1S2s2ts4ts5ts7tv0.52l0.1675S3s0ts2ts5ts7tv0.52l0.1675S4s3ts7ts8pC1S5s1ts4tS6s1ts5ts7tv0.52l0.1675S7s5ts7tv0.52l0.1675S8s0ts1ts3ts7ts8tpC1S10s4ts5ts7tv0.52l0.1675S11s0ts5ts7tv0.52l0.1675S12s3ts7ts8pC1S13s1ts4tS14s1ts5ts7tv0.52l0.1675S15s5ts7tv0.52l0.1675S16s0ts1ts3ts6pC1s7ts8tpC1S18s2ts4ts5ts7tv0.52l0.1675S19s0ts2ts5ts7tv0.52l0.1675S20s3ts7ts8pC1S21s1ts4tS22s1ts5ts7tv0.52l0.1675S23s5ts7tv0.52l0.1675S24s0ts1ts3ts4ts7ts8tpC1S26s4ts5ts6ts7tv0.52l0.1675S27s0ts5ts7tv0.52l0.1675S28s3ts7ts8pC1S29s1ts4ts6tv0.45l0.1075n1pC2v0.45l0.1075n2pC2v0.45l0.1075S30s1ts5ts6ts7tv0.52l0.1675S31s5ts6pC1s7tv0.52l0.1675S32s0ts1ts3ts6tpC1s7ts8tpC1S34s2ts4ts5ts7tv0.52l0.1675S35s0ts2ts5ts7tv0.52l0.1675S36s3ts7ts8pC1S37s1ts4tS38s1ts5ts7tv0.52l0.1675S39s5ts7tv0.52l0.1675S40s0ts1ts3ts7ts8tpC1S42s4ts5ts7tv0.52l0.1675S43s0ts5ts7tv0.52l0.1675S44s3ts7ts8pC1S45s1ts4tS46s1ts5ts7tv0.52l0.1675S47s5ts6pC1s7tv0.52l0.1675S48s0ts1ts3ts6pC1s7ts8tpC1S50s2ts4ts5ts7tv0.52l0.1675S51s0ts2ts5ts7tv0.52l0.1675S52s3ts7ts8pC1S53s1ts4tS54s1ts5ts7tv0.52l0.1675S55s5ts7tv0.52l0.1675S56s0ts1ts3ts4ts7ts8tpC1S58s4ts5ts6ts7tv0.52l0.1675S59s0ts5ts7tv0.52l0.1675S60s3ts4ts7ts8pC1S61s1ts4ts6tS62s1ts4ts5ts6ts7tv0.52l0.1675S63s5ts6ts7tv0.52l0.1675',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S4v88S6v92p27S7v92p37S8p70',\n};\n\nexport const beatbox = {\n  _id: 'defaultBeatbox',\n  name: 'beatbox',\n  kit: 'beatbox',\n  bpm: 60,\n  length: 64,\n  patternStr:\n    'S0s0ts1ts3ts5tS1s3tv0.41l1S2s3ts8tS3s3tv0.41l1S4s2ts3ts4tS5s3tv0.41l1S6s1ts3tS7s3tv0.41l1S8s3tS9s3tv0.41l1S10s3ts8tS11s1ts3tv0.41l1S12s2ts3tn1pC2v1l1n2pC2v1l1s4ts6tS13s3tn1pC2v1l1n2pC2v1l1S14s0tpG1s3tn1pC2v1l1S15s3tn1pC2v1l1S16s0ts1ts3tS17s3tv0.41l1S18s3ts8tS19s3tv0.41l1S20s2ts3ts4tS21s3tv0.41l1S22s1ts3tS23s3tv0.41l1S24s3tS25s3tv0.41l1s4tS26s3ts7ts8tS27s1ts3tv0.41l1S28s2ts3tn1pC2v1l1n2pC2v1l1s4ts6tS29s0tpG1s1ts3tn1pC2v1l1n2pC2v1l1s7tS30s0tpG1s1ts3tn1pC2v1l1S31s3tn1pC2v1l1S32s0ts1ts3tS33s3tv0.41l1S34s3ts8tS35s3tv0.41l1S36s2ts3ts4tS37s3tv0.41l1S38s1ts3tS39s3tv0.41l1S40s3tS41s3tv0.41l1S42s3ts8tS43s1ts3tv0.41l1S44s2ts3tn1pC2v1l1n2pC2v1l1s4ts6tS45s3tn1pC2v1l1n2pC2v1l1S46s0tpA#1s3tn1pC2v1l1S47s3tn1pC2v1l1S48s0tpG#1s1ts3tS49s1ts3tv0.41l1S50s3ts8tS51s1ts3tv0.41l1S52s2ts3ts4tS53s3tv0.41l1S54s0tpG1s3tS55s3tv0.41l1S56s1ts3tS57s3tv0.41l1s4tS58s3ts7ts8tS59s1ts3tv0.41l1S60s2ts3tn1pC2v1l1n2pC2v1l1s4ts6tS61s0tpG1s1ts3tn1pC2v1l1n2pC2v1l1s7tS62s0tpG1s1ts3tn1pC2v1l1S63s3tn1pC2v1l1',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S3v58S4p22S7p82',\n};\n\nexport const electric = {\n  _id: 'defaultElectric',\n  name: 'electric',\n  kit: 'electric',\n  bpm: 80,\n  length: 64,\n  patternStr:\n    'S0s0ts7tpC1s8tpC1n1pC1v1l0.065S1s4ts8tpG1n1pG1v1l0.065S2s3ts4ts6ts7ts8tpE2n1pE2v1l0.065S3s4ts8tpA#2n1pA#2v1l0.065S4s0ts2ts5ts8tpC1n1pC1v1l0.065S5s4ts6ts7tpC1s8tpG1n1pG1v1l0.065S6s3ts4ts8tpE2n1pE2v1l0.065S7s4ts5ts8tpA#2n1pA#2v1l0.065S8s0ts6ts7tpG#1s8tpC1S9s4ts8tpG#1S10s3ts4ts8tpD#2S11s4ts6ts8tpA#2S12s0ts1ts2ts5ts6ts7tpG1s8tpD1S13s4ts7tpG1s8pG1S14s3ts4ts6ts8tpF1S15s4ts6ts8pB1S16s0ts7tpC1s8tpC1n1pC1v1l0.065S17s4ts8tpG1n1pG1v1l0.065S18s3ts4ts6ts7ts8tpE2n1pE2v1l0.065S19s4ts8tpA#2n1pA#2v1l0.065S20s0ts2ts5ts8tpC1n1pC1v1l0.065S21s4ts6ts7tpC1s8tpG1n1pG1v1l0.065S22s3ts4ts8tpE2n1pE2v1l0.065S23s4ts5ts8tpA#2n1pA#2v1l0.065S24s0ts6ts7tpG#1s8tpC1S25s4ts8tpG#1S26s3ts4ts8tpD#2S27s4ts6ts8tpA#2S28s0ts1ts2ts5ts6ts7tpG1s8tpD1S29s4ts8pG1S30s3ts4ts6ts8tpF1S31s4ts6ts8pB1S32s0ts7tpC1s8tpC1n1pC1v1l0.065S33s4ts8tpG1n1pG1v1l0.065S34s3ts4ts6ts7ts8tpE2n1pE2v1l0.065S35s4ts8tpA#2n1pA#2v1l0.065S36s0ts2ts5ts8tpC1n1pC1v1l0.065S37s4ts6ts7tpC1s8tpG1n1pG1v1l0.065S38s3ts4ts8tpE2n1pE2v1l0.065S39s4ts5ts8tpA#2n1pA#2v1l0.065S40s0ts6ts7tpC1s8tpC1S41s4ts8tpG#1S42s3ts4ts8tpD#2S43s4ts6ts8tpA#2S44s0ts1ts2ts5ts6ts7tpC1s8tpD1S45s4ts8tpG1S46s3ts4ts6ts8tpF1n1pF1v1l0.065n2pF1v1l0.065S47s4ts6ts8tpB1n1pB1v1l0.065n2pB1v1l0.065S48s0ts7tpC1s8tpC1n1pC1v1l0.065S49s4ts8tpC1n1pC1v1l0.065S50s3ts4ts7ts8tpC1n1pC1v1l0.065S51s4ts8tpC1n1pC1v1l0.065S52s0ts2ts5ts8tpC1n1pC1v1l0.065S53s4ts7tpC1s8tpC1n1pC1v1l0.065S54s3ts4ts8tpC1n1pC1v1l0.065S55s4ts5ts8tpC1n1pC1v1l0.065S56s0ts7tpG#1s8tpC1n1pC1v1l0.065n2pC1v1l0.065S57s4ts8tpC1n1pC1v1l0.065n2pC1v1l0.065S58s3ts4ts8tpC1n1pC1v1l0.065n2pC1v1l0.065S59s4ts7ts8tpC1n1pC1v1l0.065n2pC1v1l0.065S60s0ts1ts2ts5ts7tpG1s8pC1S61s4ts8pC1S62s3ts4ts8pC1S63s4ts8pC1',\n  mainMixerStr: 'v80',\n  sampleMixerStr: 'S2v77S3v53p48S4v78p100S6p0S8v68',\n};\n\nexport const defaultSequences = [\n  analog,\n  house,\n  burn,\n  vinyl,\n  sauce,\n  funky,\n  saffron,\n  beatbox,\n  electric,\n];\n","import { HOST } from 'utils/network';\n\nexport const vinyl = {\n  name: 'vinyl',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'kick',\n      path: HOST + '/kits/vinyl/kick.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'kick 2',\n      path: HOST + '/kits/vinyl/kick2.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'kick2',\n    },\n    {\n      name: 'snare',\n      path: HOST + '/kits/vinyl/snr.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'snr',\n    },\n    {\n      name: 'closed hat',\n      path: HOST + '/kits/vinyl/ch.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'open hat',\n      path: HOST + '/kits/vinyl/oh.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'clap',\n      path: HOST + '/kits/vinyl/clp.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'clp',\n    },\n    {\n      name: 'vocal',\n      path: HOST + '/kits/vinyl/voc.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'voc',\n    },\n    {\n      name: 'shaker',\n      path: HOST + '/kits/vinyl/shk.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'shk',\n    },\n    {\n      name: 'rim',\n      path: HOST + '/kits/vinyl/rim.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'sticks',\n    },\n  ],\n};\n\nexport const saffron = {\n  name: 'saffron',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'stomp',\n      path: HOST + '/kits/saffron/stomp.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'tone',\n      path: HOST + '/kits/saffron/urdu_tone.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'kick2',\n    },\n    {\n      name: 'smack',\n      path: HOST + '/kits/saffron/urdu_smack.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'snr',\n    },\n    {\n      name: 'clap',\n      path: HOST + '/kits/saffron/clp.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'clp',\n    },\n    {\n      name: 'block',\n      path: HOST + '/kits/saffron/plop.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'wb',\n    },\n    {\n      name: 'tamb',\n      path: HOST + '/kits/saffron/tamb.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'tamb',\n    },\n    {\n      name: 'vocal',\n      path: HOST + '/kits/saffron/voc.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'voc',\n    },\n    {\n      name: 'chimes',\n      path: HOST + '/kits/saffron/chimes.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'cym',\n    },\n    {\n      name: 'bells',\n      path: HOST + '/kits/saffron/bells.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'fx',\n    },\n  ],\n};\n\nexport const punchy = {\n  name: 'punchy',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'kick',\n      path: HOST + '/kits/punchy/kick.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'snare',\n      path: HOST + '/kits/punchy/snr.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'snr',\n    },\n    {\n      name: 'rim',\n      path: HOST + '/kits/punchy/rim.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'wb',\n    },\n    {\n      name: 'closed hat',\n      path: HOST + '/kits/punchy/ch.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'open hat',\n      path: HOST + '/kits/punchy/oh.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'cymbal',\n      path: HOST + '/kits/punchy/cym.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'cym',\n    },\n    {\n      name: 'high tom',\n      path: HOST + '/kits/punchy/ht.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'tom',\n    },\n    {\n      name: 'mid tom',\n      path: HOST + '/kits/punchy/mt.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'tom',\n    },\n    {\n      name: 'low tom',\n      path: HOST + '/kits/punchy/lt.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'tom',\n    },\n  ],\n};\n\nexport const sauce = {\n  name: 'sauce',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'kick',\n      path: HOST + '/kits/sauce/kick.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'snare',\n      path: HOST + '/kits/sauce/snr.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'snr',\n    },\n    {\n      name: 'snap',\n      path: HOST + '/kits/sauce/snp.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'fx',\n    },\n    {\n      name: 'hat 1',\n      path: HOST + '/kits/sauce/ch.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'hat 2',\n      path: HOST + '/kits/sauce/ch2.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'ch',\n    },\n    {\n      name: 'hat 3',\n      path: HOST + '/kits/sauce/ch3.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'ch',\n    },\n    {\n      name: 'plop',\n      path: HOST + '/kits/sauce/plop.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'wb',\n    },\n    {\n      name: 'vocal 1',\n      path: HOST + '/kits/sauce/voc1.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'voc',\n    },\n    {\n      name: 'vocal 2',\n      path: HOST + '/kits/sauce/voc2.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'voc',\n    },\n  ],\n};\n\nexport const electric = {\n  name: 'electric',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'kick',\n      path: HOST + '/kits/electric/kick.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'fat snare',\n      path: HOST + '/kits/electric/fatsnr.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'snr',\n    },\n    {\n      name: 'big snare',\n      path: HOST + '/kits/electric/bigsnr.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'snr2',\n    },\n    {\n      name: 'hat 1',\n      path: HOST + '/kits/electric/oh.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'oh',\n    },\n    {\n      name: 'hat 2',\n      path: HOST + '/kits/electric/oh2.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'clap',\n      path: HOST + '/kits/electric/clp.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'clp',\n    },\n    {\n      name: 'tom',\n      path: HOST + '/kits/electric/tom.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'tom',\n    },\n    {\n      name: 'tone',\n      path: HOST + '/kits/electric/tone.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'note',\n    },\n    {\n      name: 'vocal',\n      path: HOST + '/kits/electric/voc.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'fx',\n    },\n  ],\n};\n\nexport const beatbox = {\n  name: 'beatbox',\n  location: 'remote',\n  available: false,\n  samples: [\n    {\n      name: 'kick tone',\n      path: HOST + '/kits/beatbox/kick_tone.mp3',\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick2',\n    },\n    {\n      name: 'kick',\n      path: HOST + '/kits/beatbox/kick.mp3',\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'kick',\n    },\n    {\n      name: 'snare',\n      path: HOST + '/kits/beatbox/snr.mp3',\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'snr',\n    },\n    {\n      name: 'hat',\n      path: HOST + '/kits/beatbox/ch.mp3',\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'plop',\n      path: HOST + '/kits/beatbox/plop.mp3',\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'wb',\n    },\n    {\n      name: 'cym',\n      path: HOST + '/kits/beatbox/cym.mp3',\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'cym',\n    },\n    {\n      name: 'breath',\n      path: HOST + '/kits/beatbox/breath.mp3',\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'fx',\n    },\n    {\n      name: 'breath2',\n      path: HOST + '/kits/beatbox/breath2.mp3',\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'fx',\n    },\n    {\n      name: 'scratch',\n      path: HOST + '/kits/beatbox/scratch.mp3',\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'fx',\n    },\n  ],\n};\n","export default __webpack_public_path__ + \"static/media/ch.5be36d87.mp3\";","export default __webpack_public_path__ + \"static/media/clp.5a324400.mp3\";","export default __webpack_public_path__ + \"static/media/cym.658e9d4a.mp3\";","export default __webpack_public_path__ + \"static/media/ht.ef5b053d.mp3\";","export default __webpack_public_path__ + \"static/media/kick.ea1dad8b.mp3\";","export default __webpack_public_path__ + \"static/media/lt.776c7aa4.mp3\";","export default __webpack_public_path__ + \"static/media/mt.e91fb3cd.mp3\";","export default __webpack_public_path__ + \"static/media/oh.4f702be8.mp3\";","import ch from 'assets/audio/analog/ch.mp3';\nimport clp from 'assets/audio/analog/clp.mp3';\nimport cym from 'assets/audio/analog/cym.mp3';\nimport ht from 'assets/audio/analog/ht.mp3';\nimport kick from 'assets/audio/analog/kick.mp3';\nimport lt from 'assets/audio/analog/lt.mp3';\nimport mt from 'assets/audio/analog/mt.mp3';\nimport oh from 'assets/audio/analog/oh.mp3';\nimport snr from 'assets/audio/analog/snr.mp3';\n\nexport const analog = {\n  name: 'analog',\n  location: 'local',\n  available: true,\n  samples: [\n    {\n      name: 'kick',\n      path: kick,\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'snare',\n      path: snr,\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'snr',\n    },\n    {\n      name: 'clap',\n      path: clp,\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'clp',\n    },\n    {\n      name: 'closed hat',\n      path: ch,\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'open hat',\n      path: oh,\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'cymbal',\n      path: cym,\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'cym',\n    },\n    {\n      name: 'high tom',\n      path: ht,\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'tom',\n    },\n    {\n      name: 'mid tom',\n      path: mt,\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'tom',\n    },\n    {\n      name: 'low tom',\n      path: lt,\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'tom',\n    },\n  ],\n};\n","export default __webpack_public_path__ + \"static/media/snr.86309143.mp3\";","import kick_verb from 'assets/audio/house/kick_verb.mp3';\nimport kick from 'assets/audio/house/kick.mp3';\nimport snr from 'assets/audio/house/snr.mp3';\nimport shk from 'assets/audio/house/shk.mp3';\nimport oh from 'assets/audio/house/oh.mp3';\nimport clp from 'assets/audio/house/clp.mp3';\nimport voc from 'assets/audio/house/voc.mp3';\nimport tom from 'assets/audio/house/tom.mp3';\nimport low_tom from 'assets/audio/house/low_tom.mp3';\n\nexport const house = {\n  name: 'house',\n  location: 'local',\n  available: true,\n  samples: [\n    {\n      name: 'verb kick',\n      path: kick_verb,\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'kick',\n      path: kick,\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'kick',\n    },\n    {\n      name: 'snare',\n      path: snr,\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'snr',\n    },\n    {\n      name: 'shaker',\n      path: shk,\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'shk',\n    },\n    {\n      name: 'open hat',\n      path: oh,\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'clap',\n      path: clp,\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'clp',\n    },\n    {\n      name: 'vocal',\n      path: voc,\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'voc',\n    },\n    {\n      name: 'tom',\n      path: tom,\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'tom',\n    },\n    {\n      name: 'low tom',\n      path: low_tom,\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'tom',\n    },\n  ],\n};\n","export default __webpack_public_path__ + \"static/media/kick_verb.ed8bb269.mp3\";","export default __webpack_public_path__ + \"static/media/kick.d66d8a66.mp3\";","export default __webpack_public_path__ + \"static/media/snr.f27423f3.mp3\";","export default __webpack_public_path__ + \"static/media/shk.a5f2df99.mp3\";","export default __webpack_public_path__ + \"static/media/oh.abae5a0a.mp3\";","export default __webpack_public_path__ + \"static/media/clp.4f0f4170.mp3\";","export default __webpack_public_path__ + \"static/media/voc.57efdf63.mp3\";","export default __webpack_public_path__ + \"static/media/tom.4c9f6e58.mp3\";","export default __webpack_public_path__ + \"static/media/low_tom.82c0fc37.mp3\";","import kick_long from 'assets/audio/lush/kick_long.mp3';\nimport kick_mid from 'assets/audio/lush/kick_mid.mp3';\nimport kick_short from 'assets/audio/lush/kick_short.mp3';\nimport ch from 'assets/audio/lush/ch.mp3';\nimport oh from 'assets/audio/lush/oh.mp3';\nimport snr from 'assets/audio/lush/snr.mp3';\nimport tamb from 'assets/audio/lush/tamb.mp3';\nimport plop from 'assets/audio/lush/plop.mp3';\nimport clp from 'assets/audio/lush/clp.mp3';\n\nexport const lush = {\n  name: 'lush',\n  location: 'local',\n  available: true,\n  samples: [\n    {\n      name: 'long kick',\n      path: kick_long,\n      code: 'Numpad7',\n      altCode: 'KeyQ',\n      color: 0,\n      icon: 'kick',\n    },\n    {\n      name: 'med kick',\n      path: kick_mid,\n      code: 'Numpad8',\n      altCode: 'KeyW',\n      color: 1,\n      icon: 'kick',\n    },\n    {\n      name: 'short kick',\n      path: kick_short,\n      code: 'Numpad9',\n      altCode: 'KeyE',\n      color: 2,\n      icon: 'kick',\n    },\n    {\n      name: 'closed hat',\n      path: ch,\n      code: 'Numpad4',\n      altCode: 'KeyA',\n      color: 3,\n      icon: 'ch',\n    },\n    {\n      name: 'open hat',\n      path: oh,\n      code: 'Numpad5',\n      altCode: 'KeyS',\n      color: 4,\n      icon: 'oh',\n    },\n    {\n      name: 'snare',\n      path: snr,\n      code: 'Numpad6',\n      altCode: 'KeyD',\n      color: 5,\n      icon: 'snr',\n    },\n    {\n      name: 'tambourine',\n      path: tamb,\n      code: 'Numpad1',\n      altCode: 'KeyZ',\n      color: 6,\n      icon: 'tamb',\n    },\n    {\n      name: 'plop',\n      path: plop,\n      code: 'Numpad2',\n      altCode: 'KeyX',\n      color: 7,\n      icon: 'wb',\n    },\n    {\n      name: 'clap',\n      path: clp,\n      code: 'Numpad3',\n      altCode: 'KeyC',\n      color: 8,\n      icon: 'clp',\n    },\n  ],\n};\n","export default __webpack_public_path__ + \"static/media/kick_long.cc243b15.mp3\";","export default __webpack_public_path__ + \"static/media/kick_mid.03a75cf2.mp3\";","export default __webpack_public_path__ + \"static/media/kick_short.95cd992a.mp3\";","export default __webpack_public_path__ + \"static/media/ch.9ab7bfc6.mp3\";","export default __webpack_public_path__ + \"static/media/oh.e56c7e52.mp3\";","export default __webpack_public_path__ + \"static/media/snr.089381c7.mp3\";","export default __webpack_public_path__ + \"static/media/tamb.0eec3902.mp3\";","export default __webpack_public_path__ + \"static/media/plop.1d3f6988.mp3\";","export default __webpack_public_path__ + \"static/media/clp.dc3ccb41.mp3\";","export const deepCopyKits = (kits) => {\n  const copyOfKits = {};\n  Object.entries(kits).forEach(([key, val]) => {\n    const copyOfSamples = val.samples.map((sample) => ({ ...sample }));\n    copyOfKits[key] = { ...val, samples: copyOfSamples };\n  });\n  return copyOfKits;\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport * as remoteKits from 'assets/kits/remote/remoteKits';\nimport * as localKits from 'assets/kits/local';\nimport { defaultSequences } from 'assets/sequences';\nimport { deepCopyKits } from './functions/assets';\n\nconst INITIAL_KITS = {\n  ...deepCopyKits(remoteKits),\n  ...deepCopyKits(localKits),\n};\n\nconst INITIAL_STATE = {\n  kits: INITIAL_KITS,\n  defaultSequences,\n  userSequences: [],\n};\n\nexport const assetsSlice = createSlice({\n  name: 'assets',\n  initialState: INITIAL_STATE,\n  reducers: {\n    setKits: (state, { payload }) => {\n      state.kits = payload;\n    },\n    setAvailable: (state, { payload: { kit, available } }) => {\n      state.kits[kit].available = available;\n    },\n    setSynched: (state, { payload: { _id, synched } }) => {\n      const seqToUpdate = state.userSequences.find((seqId) => seqId._id === _id);\n      seqToUpdate.synched = synched;\n    },\n    setFetchingSamples: (state, { payload: { kit, fetching, available } }) => {\n      state.kits[kit].fetching = fetching;\n      if (available !== undefined) state.kits[kit].available = available;\n    },\n    setUserSequences: (state, { payload }) => {\n      state.userSequences = payload;\n    },\n  },\n});\n\nexport const checkCachedKits = () => async (dispatch, getState) => {\n  try {\n    const cacheKeys = await caches.keys();\n    const kits = deepCopyKits(getState().assets.kits);\n    cacheKeys.forEach((key) => {\n      if (kits[key]) kits[key].available = true;\n    });\n    dispatch(assetsSlice.actions.setKits(kits));\n  } catch (e) {\n    console.log('cache unavailable');\n  }\n};\n\nexport const {\n  setAvailable,\n  setSynched,\n  setFetchingSamples,\n  setUserSequences,\n} = assetsSlice.actions;\n\nexport default assetsSlice.reducer;\n","import store from 'App/store';\nimport axios from 'axios';\nimport { HOST } from 'utils/network';\n\nexport const apiGetUser = () =>\n  axios.get(`${HOST}/user`, {\n    withCredentials: true,\n    headers: { authorization: 'Bearer ' + store.getState().app.authToken },\n  });\n\nexport const apiGetSequence = (_id) =>\n  axios({\n    url: `${HOST}/user/sequence`,\n    method: 'POST',\n    data: { _id },\n    withCredentials: true,\n  });\n\nexport const apiSaveSequence = (sequence) =>\n  axios({\n    url: `${HOST}/user/sequence/save`,\n    method: 'POST',\n    data: sequence,\n    withCredentials: true,\n    headers: { authorization: 'Bearer ' + store.getState().app.authToken },\n  });\n\nexport const apiDeleteSequence = (_id) =>\n  axios({\n    url: `${HOST}/user/sequence/delete`,\n    method: 'POST',\n    data: { _id },\n    withCredentials: true,\n    headers: { authorization: 'Bearer ' + store.getState().app.authToken },\n  });\n\nexport const preFetchSamples = async (samples) => {\n  const promises = [];\n  samples.forEach((sample) => {\n    promises.push(fetch(sample.path));\n  });\n  let received, error;\n  try {\n    await Promise.all(promises);\n    received = true;\n  } catch (e) {\n    error = e;\n  } finally {\n    return [received, error];\n  }\n};\n","export const wait = (timeout, func) =>\n  new Promise((resolve) => {\n    setTimeout(() => {\n      if (func) func();\n      resolve();\n    }, timeout);\n  });\n","import * as Tone from 'tone';\nimport { NETWORK_TIMEOUT } from 'utils/network';\nimport { Kit, kitBus, metronome } from 'App/Tone';\n\nexport const disposeSamplers = () => {\n  for (let sample of Kit.samples) {\n    sample.sampler?.dispose();\n    delete sample.sampler;\n    sample.channel?.dispose();\n    delete sample.channel;\n  }\n  Kit.samples.length = 0;\n};\n\nexport const buildSamplers = (kitAssets) =>\n  new Promise(async (resolve, reject) => {\n    const addSamplersPromises = addSamplersToKit(kitAssets);\n    try {\n      let rejectTimer = setTimeout(\n        () => reject('timed out loading samples'),\n        NETWORK_TIMEOUT\n      );\n      await Promise.all(addSamplersPromises);\n      clearTimeout(rejectTimer);\n      console.log(`${Kit.name} buffers loaded!`);\n      resolve();\n    } catch (e) {\n      console.error('buildSamplers error -> ', e);\n      reject('error loading samples');\n    }\n  });\n\nconst addSamplersToKit = (kitAssets) => {\n  const promises = [];\n  for (let [i, sample] of kitAssets.samples.entries()) {\n    Kit.samples[i] = { ...sample };\n    promises.push(connectSample(Kit.samples[i]));\n  }\n  return promises;\n};\n\nconst connectSample = (sample) => {\n  return new Promise((resolve) => {\n    sample.sampler = new Tone.Sampler({\n      urls: { C2: sample.path },\n      onload: () => {\n        sample.channel = new Tone.Channel({\n          volume: 0,\n          pan: 0,\n          channelCount: 2,\n        }).connect(kitBus);\n        sample.vol = scaledGetAndSetVol(sample);\n        sample.pan = scaledGetAndSetPan(sample);\n        sample.sampler.connect(sample.channel);\n        resolve();\n      },\n    });\n  });\n};\n\nconst scaledGetAndSetVol = (sample) => ({\n  getRotaryVal: () => {\n    let value = sample.channel.volume.value * 4 + 100;\n    if (value > 100) value = 100;\n    return value;\n  },\n  setValFromRotary: (val) => {\n    sample.channel.set({ volume: (val - 100) * 0.25 });\n  },\n});\n\nconst scaledGetAndSetPan = (sample) => ({\n  getRotaryVal: () => {\n    const val = sample.channel.pan.value * 50 + 50;\n    return val;\n  },\n  setValFromRotary: (val) => {\n    if (val > 40 && val < 59) sample.channel.set({ pan: 0 });\n    else sample.channel.set({ pan: (val - 50) / 50 });\n  },\n});\n\nexport const applySampleMixer = (sampleMixer) => {\n  sampleMixer.forEach(({ vol, pan }, i) => {\n    Kit.samples[i].vol.setValFromRotary(vol);\n    Kit.samples[i].pan.setValFromRotary(pan);\n  });\n};\n\nexport const triggerMetronome = (time, step) => {\n  if (step % 16 === 0) metronome.triggerAttack('C2', time);\n  else if (step % 4 === 0) metronome.triggerAttack('C1', time);\n};\n\nexport const triggerStep = (time, step) => {\n  for (const [sample, { noteOn, notes }] of Object.entries(step)) {\n    if (noteOn) {\n      let slice = notes.length;\n      Kit.samples[sample].sampler.triggerAttackRelease(\n        notes[0].pitch,\n        notes[0].length,\n        time,\n        notes[0].velocity\n      );\n      if (slice === 2) {\n        Kit.samples[sample].sampler.triggerAttackRelease(\n          notes[1].pitch,\n          notes[1].length,\n          time + Tone.Time('32n'),\n          notes[1].velocity\n        );\n      } else if (slice === 3) {\n        Kit.samples[sample].sampler.triggerAttackRelease(\n          notes[1].pitch,\n          notes[1].length,\n          time + Tone.Time('32t'),\n          notes[1].velocity\n        );\n        Kit.samples[sample].sampler.triggerAttackRelease(\n          notes[2].pitch,\n          notes[2].length,\n          time + Tone.Time('32t') + Tone.Time('32t'),\n          notes[2].velocity\n        );\n      }\n    }\n  }\n};\n","import * as Tone from 'tone';\nimport {\n  animateCell,\n  animateSample,\n  removeCursor,\n  startFlashing,\n} from 'App/reducers/functions/animations';\nimport {\n  applySampleMixer,\n  buildSamplers,\n  disposeSamplers,\n  triggerMetronome,\n  triggerStep,\n} from 'App/reducers/functions/sampler';\nimport {\n  setLoadingSamples,\n  loadSamplesFinally,\n  setStep,\n  startSequenceFinally,\n  stopSequenceFinally,\n  setAudioContextReady,\n  setCountIn,\n  setCycle,\n} from '../toneSlice';\nimport { setFetchingSamples } from '../assetsSlice';\nimport { setStatus } from '../appSlice';\nimport { Kit, metronome } from 'App/Tone';\nimport { MODES } from '../editorSlice';\nimport { wait } from 'utils/wait';\nimport store from 'App/store';\n\nexport const startTone = (start) => async (dispatch) => {\n  await Tone.start();\n  dispatch(setAudioContextReady(true));\n  console.log('audio ready');\n  window.log('audio ready');\n  if (start) dispatch(startSequence());\n};\n\nexport const loadSamples = () => async (dispatch, getState) => {\n  dispatch(stopSequence());\n  const sequenceKitName = getState().sequence.present.kit;\n  const kits = getState().assets.kits;\n  const kitAssets = kits[sequenceKitName];\n  dispatch(setStatus(`Loading samples: ${sequenceKitName}`));\n  let available = kitAssets.available;\n  dispatch(setFetchingSamples({ kit: sequenceKitName, fetching: true, available }));\n  let payload = { bufferedKit: Kit.name, loadingError: false };\n  dispatch(setLoadingSamples(true));\n  try {\n    if (Kit.samples[0].sampler) disposeSamplers();\n    await buildSamplers(kitAssets);\n    applySampleMixer(getState().sequence.present.sampleMixer);\n    available = true;\n    payload.bufferedKit = sequenceKitName;\n    payload.buffersLoaded = true;\n    payload.message = sequenceKitName + ' samples loaded';\n  } catch (e) {\n    console.error('loadSamples ->\\n', e);\n    payload.buffersLoaded = false;\n    payload.loadingError = true;\n    payload.message = `Error loading ${sequenceKitName} samples`;\n  } finally {\n    payload.loadingSamples = false;\n    dispatch(loadSamplesFinally(payload));\n    dispatch(setFetchingSamples({ kit: sequenceKitName, fetching: false, available }));\n    dispatch(setStatus(payload.message));\n  }\n};\n\nexport const schedulePattern = (dispatch, getState) => {\n  Tone.Transport.scheduleRepeat((time) => {\n    const step = getState().tone.step;\n    const patternStep = getState().sequence.present.pattern[step];\n    const recording = getState().editor.mode === MODES.TAP_RECORD;\n    try {\n      triggerStep(time, patternStep);\n      if (recording) triggerMetronome(time, step);\n      animateCell(time, document.getElementById(`cell-${step}`));\n      animateSample(time, patternStep);\n    } catch (e) {\n      console.error('scheduleRepeat passed buffer interrupt');\n    }\n    const length = getState().sequence.present.length;\n    if (step === length - 1) {\n      dispatch(incCycleCount());\n      dispatch(setStep(0));\n    } else {\n      dispatch(setStep(step + 1));\n    }\n  }, '16n');\n};\n\nexport const startSequence = (stopAfterCycle) => async (dispatch, getState) => {\n  const audioContextReady = getState().tone.audioContextReady;\n  if (!audioContextReady) return dispatch(startTone(true));\n  const mode = getState().editor.mode;\n  removeCursor(getState().sequence.present.length, getState().tone.step);\n  if (Tone.Transport.state === 'stopped') schedulePattern(dispatch, getState);\n  if (mode === MODES.TAP_RECORD) await countIn();\n  dispatch(startSequenceFinally(stopAfterCycle));\n};\n\nexport const stopSequence = () => (dispatch, getState) => {\n  stopAndCancelEvents();\n  removeCursor(getState().sequence.present.length, getState().tone.step);\n  startFlashing();\n  dispatch(stopSequenceFinally());\n};\n\nexport const incCycleCount = () => (dispatch, getState) => {\n  const prevCycle = getState().tone.cycle;\n  const stopAfterCycle = getState().tone.stopAfterCycle;\n  if (stopAfterCycle && prevCycle === stopAfterCycle) {\n    dispatch(stopSequence());\n  } else {\n    dispatch(setCycle(prevCycle + 1));\n  }\n};\n\nconst stopAndCancelEvents = () => {\n  Tone.Transport.stop();\n  Tone.Transport.position = 0;\n  Tone.Transport.cancel(0);\n  // this cleans up what cancel missed \n  const scheduledEvents = Tone.Transport._scheduledEvents;\n  Object.keys(scheduledEvents).forEach((id) => Tone.Transport.clear(id));\n};\n\nexport const startRecord = () => (dispatch) => {\n  dispatch(setCountIn('...'));\n  dispatch(stopSequence());\n  dispatch(startSequence());\n};\n\nconst countIn = () =>\n  new Promise(async (resolve) => {\n    const beat = 60000 / Tone.Transport.bpm.value;\n    await wait(0, () => click('C2'));\n    store.dispatch(setCountIn(4));\n    await wait(beat, () => click('C1'));\n    store.dispatch(setCountIn(3));\n    await wait(beat, () => click('C1'));\n    store.dispatch(setCountIn(2));\n    await wait(beat, () => click('C1'));\n    store.dispatch(setCountIn(1));\n    await wait(beat - 100, resolve);\n    store.dispatch(setCountIn(''));\n  });\n\nconst click = (note) => {\n  const cell0 = document.getElementById('cell-0');\n  cell0.classList.add('countIn');\n  setTimeout(() => cell0.classList.remove('countIn'), 100);\n  metronome.triggerAttack(note, Tone.immediate());\n};\n","import React, { useRef, useState } from 'react';\nimport cuid from 'cuid';\nimport { useTouchAndMouse } from 'hooks/useTouchAndMouse';\n\nexport const Button = ({\n  fwdRef,\n  id,\n  classes = '',\n  disabled = false,\n  startFunc,\n  onClick,\n  type,\n  ariaLabel = '',\n  children,\n}) => {\n  const defaultRef = useRef(null);\n  const ref = fwdRef || defaultRef;\n\n  const [pressed, setPressed] = useState('');\n\n  const handleTouchStart = (e) => {\n    if (startFunc) startFunc(e);\n    setPressed(' pressed');\n  };\n  const handleTouchEnd = (e) => {\n    setPressed('');\n  };\n\n  const { onTouchStart, onMouseDown } = useTouchAndMouse(handleTouchStart);\n\n  return (\n    <button\n      ref={ref}\n      type={type || 'button'}\n      id={id || cuid.slug()}\n      className={'btn ' + classes + pressed}\n      disabled={disabled}\n      aria-label={ariaLabel}\n      onTouchStart={onTouchStart}\n      onMouseDown={onMouseDown}\n      onTouchEnd={handleTouchEnd}\n      onMouseUp={handleTouchEnd}\n      onClick={onClick}\n    >\n      {children}\n    </button>\n  );\n};\n","import { ActionCreators } from 'redux-undo';\nimport { apiGetSequence } from 'api';\nimport { setFetching, setFlashInfo } from '../appSlice';\nimport {\n  getMainMixerFromStr,\n  getPatternFromStr,\n  getSampleMixerFromStr,\n} from '../functions/sequence';\nimport {\n  loadSequence,\n  eraseCell,\n  sliceCell,\n  modCellFinally,\n  INITIAL_SEQUENCE,\n  recordSampleFinally,\n  paintCell,\n} from '../sequenceSlice';\nimport { MODES } from '../editorSlice';\nimport { wait } from 'utils/wait';\n\nexport const loadInitialSequence = (_id, clearUrl) => async (dispatch) => {\n  dispatch(setFetching(true));\n  if (_id === 'session') {\n    dispatch(loadSequence(INITIAL_SEQUENCE));\n  } else {\n    try {\n      const res = await apiGetSequence(_id);\n      const sequence = res.data;\n      sequence.mainMixer = getMainMixerFromStr(sequence.mainMixerStr);\n      sequence.sampleMixer = getSampleMixerFromStr(sequence.sampleMixerStr);\n      sequence.pattern = getPatternFromStr(sequence.patternStr);\n      dispatch(loadSequence(sequence));\n    } catch (e) {\n      console.log('Failed to load sequence from url path.  Loading default session.');\n      dispatch(loadSequence(INITIAL_SEQUENCE));\n    }\n  }\n  dispatch(setFetching(false));\n  dispatch(ActionCreators.clearHistory());\n  clearUrl();\n};\n\nexport const recordSample = (sample) => (dispatch, getState) => {\n  if (getState().tone.transportState !== 'started') return;\n  const sequence = getState().sequence.present;\n  let step = getState().tone.step - 1;\n  if (step === -1) step = getState().sequence.present.length - 1;\n  const cell = sequence.pattern[step][sample];\n  const prevNoteOn = cell.noteOn;\n  if (!prevNoteOn) wait(150, () => dispatch(recordSampleFinally({ sample, step })));\n};\n\nexport const modCell = (step, noteOn) => (dispatch, getState) => {\n  const selectedSample = getState().editor.selectedSample;\n  const mode = getState().editor.mode;\n  switch (mode) {\n    case MODES.INIT:\n    case MODES.TAP:\n    case MODES.TAP_RECORD:\n      dispatch(setFlashInfo(true));\n      setTimeout(() => dispatch(setFlashInfo(false)), 0);\n      break;\n    case MODES.PAINT:\n      const toggleOn = getState().editor.toggleOn;\n      if ((toggleOn && !noteOn) || (!toggleOn && noteOn))\n        dispatch(\n          paintCell({\n            step,\n            selectedSample,\n            noteOn: toggleOn,\n          })\n        );\n      break;\n    case MODES.ERASE:\n      if (noteOn) dispatch(eraseCell({ step, selectedSample }));\n      break;\n    case MODES.SLICE:\n      if (noteOn) dispatch(sliceCell({ step, selectedSample }));\n      break;\n    case MODES.MOD_LENGTH:\n    case MODES.MOD_PITCH:\n    case MODES.MOD_VELOCITY:\n      if (noteOn) {\n        const value = getState().editor.mods[mode];\n        dispatch(\n          modCellFinally({\n            step,\n            selectedSample,\n            type: mode,\n            value,\n          })\n        );\n      }\n      break;\n    default:\n      return null;\n  }\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport undoable, { excludeAction, groupByActionTypes } from 'redux-undo';\nimport { analog } from 'assets/sequences';\nimport { getSS } from 'utils/storage';\nimport {\n  getNoteTally,\n  inc,\n  dec,\n  initSampleStep,\n  getPatternFromStr,\n  getMainMixerFromStr,\n  getSampleMixerFromStr,\n} from 'App/reducers/functions/sequence';\nimport { INITIAL_MODS, MODES } from 'App/reducers/editorSlice';\nimport * as sequenceThunks from './thunks/sequenceThunks';\n\nconst INITIAL_PATTERN = getSS('sequencePattern') || getPatternFromStr(analog.patternStr);\nconst INITIAL_MAIN_MIXER = getSS('mainMixer') || getMainMixerFromStr(analog.mainMixerStr);\nconst INITIAL_SAMPLE_MIXER =\n  getSS('sampleMixer') || getSampleMixerFromStr(analog.sampleMixerStr);\n\nexport const MAIN_MIXER_PROPERTIES = {\n  volume: { min: 1, max: 100, initialValue: 76, snapback: false },\n  reverb: { min: 0, max: 100, initialValue: 0, snapback: false },\n  filter: { min: 1, max: 100, initialValue: 100, snapback: false },\n  warp: { min: 0, max: 100, initialValue: 50, snapback: true },\n  crush: { min: 0, max: 100, initialValue: 0, snapback: false },\n  distort: { min: 0, max: 100, initialValue: 0, snapback: false },\n};\n\nexport const SAMPLE_MIXER_PROPERTIES = {\n  vol: { min: 1, max: 100, initialValue: 100 },\n  pan: { min: 0, max: 100, initialValue: 50 },\n};\n\nexport const INITIAL_SEQUENCE = {\n  _id: getSS('sequenceId') || analog._id,\n  name: getSS('sequenceName') || analog.name,\n  kit: getSS('sequenceKitName') || analog.kit,\n  bpm: getSS('sequenceBpm') || analog.bpm,\n  length: getSS('sequenceLength') || analog.length,\n  pattern: INITIAL_PATTERN,\n  mainMixer: INITIAL_MAIN_MIXER,\n  sampleMixer: INITIAL_SAMPLE_MIXER,\n};\n\nexport const INITIAL_STATE = {\n  ...INITIAL_SEQUENCE,\n  noteTally: getNoteTally(INITIAL_PATTERN),\n  undoStatus: '',\n  initialLoad: true,\n};\n\nexport const sequenceSlice = createSlice({\n  name: 'sequence',\n  initialState: INITIAL_STATE,\n  reducers: {\n    paintCell: (state, { payload: { step, selectedSample, noteOn } }) => {\n      state.pattern[step][selectedSample].noteOn = noteOn;\n      if (noteOn) inc(state.noteTally, selectedSample);\n      else dec(state.noteTally, selectedSample);\n      state.undoStatus = `toggle cells | sample: ${selectedSample}`;\n    },\n    sliceCell: (state, { payload: { step, selectedSample } }) => {\n      let notes = state.pattern[step][selectedSample].notes;\n      const len = notes.length;\n      const note = notes[0];\n      if (len === 3) notes.length = 0;\n      notes.push(note);\n      state.undoStatus = `slice cells | sample: ${selectedSample}`;\n    },\n    resetSlice: (state, { payload }) => {\n      state.pattern.forEach((step) => {\n        const note = step[payload].notes[0];\n        step[payload].notes.length = 0;\n        step[payload].notes.push(note);\n      });\n    },\n    paste: (state, { payload: { sample, selectedSample } }) => {\n      state.pattern.forEach((step) => {\n        step[sample].noteOn = step[selectedSample].noteOn;\n        step[sample].notes = step[selectedSample].notes.map((note) => ({\n          ...note,\n        }));\n      });\n      state.noteTally.total.count +=\n        state.noteTally[selectedSample].count - state.noteTally[sample].count;\n      state.noteTally[sample] = { ...state.noteTally[selectedSample] };\n      state.undoStatus = `copy cells from: ${selectedSample} to: ${sample}`;\n    },\n    eraseCell: (state, { payload: { step, selectedSample } }) => {\n      initSampleStep(state.pattern[step][selectedSample]);\n      dec(state.noteTally, selectedSample);\n      state.undoStatus = `erase cells | sample: ${selectedSample}`;\n    },\n    eraseSample: (state, { payload: { selectedSample } }) => {\n      state.pattern.forEach((step) => {\n        initSampleStep(step[selectedSample]);\n      });\n      state.noteTally.total.count -= state.noteTally[selectedSample].count;\n      state.noteTally[selectedSample].count = 0;\n      state.noteTally[selectedSample].empty = true;\n      state.undoStatus = `erase all cells | sample: ${selectedSample}`;\n    },\n    eraseAll: (state) => {\n      state.pattern.forEach((step) => {\n        step.forEach((sample) => {\n          initSampleStep(sample);\n        });\n      });\n      Object.keys(state.noteTally).forEach((tally) => {\n        state.noteTally[tally].count = 0;\n        state.noteTally[tally].empty = true;\n      });\n      state.noteTally.total.count = 0;\n      state.noteTally.total.empty = true;\n      state.mainMixer = getMainMixerFromStr('init');\n      state.sampleMixer = getSampleMixerFromStr('init');\n      state.undoStatus = `erase sequence`;\n    },\n    recordSampleFinally: (state, { payload: { sample, step } }) => {\n      state.pattern[step][sample].noteOn = true;\n      inc(state.noteTally, sample);\n      state.undoStatus = `record`;\n    },\n    modCellFinally: (state, { payload: { selectedSample, type, value, step } }) => {\n      if (type === MODES.MOD_LENGTH && value < 1) value *= 0.25;\n      state.pattern[step][selectedSample].notes.forEach((note) => {\n        note[type] = value;\n      });\n      state.undoStatus = `modify cells | sample: ${selectedSample}`;\n    },\n    modAll: (state, { payload: { selectedSample, type, value } }) => {\n      if (type === MODES.MOD_LENGTH && value < 1) value *= 0.25;\n      state.pattern.forEach((step) => {\n        if (step[selectedSample].noteOn) {\n          step[selectedSample].notes.forEach((note) => {\n            note[type] = value;\n          });\n        }\n      });\n      state.undoStatus = `modify all cells | sample: ${selectedSample}`;\n    },\n    resetMods: (state, { payload: { selectedSample, type } }) => {\n      state.pattern.forEach((step) => {\n        step[selectedSample].notes.forEach((note) => {\n          note[type] = INITIAL_MODS[type];\n        });\n      });\n      state.undoStatus = `reset cell mods | sample: ${selectedSample}`;\n    },\n    loadSequence: (state, { payload }) => {\n      state._id = payload._id;\n      state.name = payload.name;\n      state.kit = payload.kit;\n      state.bpm = payload.bpm;\n      state.length = payload.length;\n      state.mainMixer = payload.mainMixer;\n      state.sampleMixer = payload.sampleMixer;\n      state.pattern = payload.pattern;\n      state.noteTally = getNoteTally(state.pattern);\n      state.undoStatus = `load sequence: `;\n      state.initialLoad = false;\n    },\n    changeKit: (state, { payload }) => {\n      state.kit = payload;\n      state.undoStatus = `load kit: `;\n    },\n    changeBpm: (state, { payload }) => {\n      state.bpm = payload;\n      state.undoStatus = `change bpm: `;\n    },\n    adjustMainMixer: (state, { payload: { property, amount } }) => {\n      const { min, max } = MAIN_MIXER_PROPERTIES[property];\n      let newVal = state.mainMixer[property] + amount;\n      if (newVal < min) newVal = min;\n      if (newVal > max) newVal = max;\n      state.mainMixer[property] = newVal;\n      state.undoStatus = `main mixer | adjust ${property}`;\n    },\n    adjustMainMixerWarp: (state, { payload }) => {\n      const { min, max } = MAIN_MIXER_PROPERTIES.warp;\n      let newVal = state.mainMixer.warp + payload;\n      if (newVal < min) newVal = min;\n      if (newVal > max) newVal = max;\n      state.mainMixer.warp = newVal;\n    },\n    resetMainMixerProperty: (state, { payload }) => {\n      state.mainMixer[payload] = MAIN_MIXER_PROPERTIES[payload].initialValue;\n      state.undoStatus = `main mixer | reset ${payload}`;\n    },\n    resetMainMixerWarp: (state) => {\n      state.mainMixer.warp = MAIN_MIXER_PROPERTIES.warp.initialValue;\n    },\n    adjustSampleMixer: (state, { payload: { sample, property, amount } }) => {\n      const { min, max } = SAMPLE_MIXER_PROPERTIES[property];\n      let newVal = state.sampleMixer[sample][property] + amount;\n      if (newVal < min) newVal = min;\n      if (newVal > max) newVal = max;\n      state.sampleMixer[sample][property] = newVal;\n      state.undoStatus = `sample mixer | sample: ${sample} ${property}`;\n    },\n    resetSampleMixerProperty: (state, { payload: { sample, property } }) => {\n      state.sampleMixer[sample][property] = SAMPLE_MIXER_PROPERTIES[property].initialValue;\n      state.undoStatus = `sample mixer | reset ${property}`;\n    },\n  },\n});\n\nexport const {\n  paintCell,\n  sliceCell,\n  resetSlice,\n  paste,\n  eraseCell,\n  eraseSample,\n  eraseAll,\n  recordSampleFinally,\n  modCellFinally,\n  modAll,\n  resetMods,\n  loadSequence,\n  loadSequenceFinally,\n  changeKit,\n  changeBpm,\n  setInitialLoad,\n  adjustMainMixer,\n  adjustMainMixerWarp,\n  resetMainMixerProperty,\n  resetMainMixerWarp,\n  adjustSampleMixer,\n  resetSampleMixerProperty,\n} = sequenceSlice.actions;\n\nexport const { loadInitialSequence, modCell, recordSample } = sequenceThunks;\n\nconst reducer = undoable(sequenceSlice.reducer, {\n  groupBy: groupByActionTypes([\n    'sequence/paintCell',\n    'sequence/eraseCell',\n    'sequence/sliceCell',\n    'sequence/modCell',\n    'sequence/recordSampleFinally',\n    'sequence/adjustMainMixer',\n    'sequence/adjustSampleMixer',\n  ]),\n  filter: excludeAction(['sequence/adjustMainMixerWarp', 'sequence/resetMainMixerWarp']),\n  limit: 100,\n});\n\nexport default reducer;\n","import ReactDOM from 'react-dom';\n\nexport const Portal = ({ targetId, children }) => {\n  const portal = document.getElementById(targetId);\n  if (!portal) return null;\n  return ReactDOM.createPortal(children, portal);\n};\n","export const getGrid = (length) => {\n  const grid = [];\n  for (let i = 0; i < length; i++) {\n    grid.push(i);\n  }\n  return grid;\n};\n","import { useRef, useState } from 'react';\n\n// onTouchStart and onMouseDown are required on the target\n// onMouseMove and onMouseUp are handled by document listener\n// so out of bounds events are captured\n\nexport const useTouchAndMouse = (startFunc, moveFunc, endFunc) => {\n  const [touching, setTouching] = useState(false);\n\n  const onTouchStart = (e) => {\n    setTouching(true);\n    if (startFunc) startFunc(e);\n  };\n\n  const mouseDownRef = useRef(null);\n  const onMouseDown = (e) => {\n    if (touching) return;\n    if (startFunc) startFunc(e);\n    mouseDownRef.current = true;\n    document.addEventListener('mouseup', onMouseUp);\n    document.addEventListener('mousemove', onMouseMove);\n  };\n\n  const onTouchMove = (e) => {\n    if (moveFunc) moveFunc(e);\n  };\n\n  const onMouseMove = (e) => {\n    if (touching) return;\n    if (moveFunc && mouseDownRef.current) moveFunc(e);\n  };\n\n  const onTouchEnd = (e) => {\n    if (endFunc) endFunc(e);\n  };\n\n  const onMouseUp = (e) => {\n    if (touching) return;\n    if (endFunc) endFunc(e);\n    mouseDownRef.current = false;\n    document.removeEventListener('mouseup', onMouseUp);\n    document.removeEventListener('mousemove', onMouseMove);\n  };\n\n  return {\n    onTouchStart,\n    onMouseDown,\n    onTouchMove,\n    onTouchEnd,\n  };\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport store from 'App/store';\nimport { getSS } from 'utils/storage';\nimport { startAnalyzer, stopAnalyzer } from './functions/animations';\n\nexport const ANALYZER_MODES = {\n  BARS: 'bars',\n  WAVE: 'wave',\n  RIPPLE: 'ripple',\n  GEMINI: 'gemini',\n};\n\nexport const getDimensions = () => {\n  const vw = document.documentElement.clientWidth;\n  const vh = document.documentElement.clientHeight;\n  const landscape = vw > vh;\n  let mainContainerHeight = landscape ? vh * 0.85 : vh * 0.9;\n  if (mainContainerHeight < vh - 100) mainContainerHeight = vh - 100;\n  let appRight = vw;\n  if (vw > 1440) appRight = vw - (vw - 1440);\n  return { vw, vh, appRight, landscape, mainContainerHeight };\n};\n\nconst INITIAL_DIMENSIONS = getDimensions();\nconst INITIAL_SPLIT =\n  INITIAL_DIMENSIONS.mainContainerHeight > 500 && INITIAL_DIMENSIONS.landscape;\n\nconst INITIAL_ANALYZER = {\n  on: getSS('analyzerOn') ?? INITIAL_SPLIT,\n  mode: getSS('analyzerMode') || ANALYZER_MODES.BARS,\n};\n\nconst INITIAL_STATE = {\n  dimensions: INITIAL_DIMENSIONS,\n  splitSamplePanel: INITIAL_SPLIT,\n  analyzer: INITIAL_ANALYZER,\n};\n\nexport const screenSlice = createSlice({\n  name: 'screen',\n  initialState: INITIAL_STATE,\n  reducers: {\n    setDimensions: (state) => {\n      state.dimensions = getDimensions();\n      state.splitSamplePanel =\n        state.dimensions.mainContainerHeight > 500 && state.dimensions.landscape;\n    },\n    setAnalyzerOnFinally: (state, { payload }) => {\n      state.analyzer.on = payload;\n    },\n    setAnalyzerOn: (state, { payload }) => {\n      state.analyzer.on = payload;\n      if (state.analyzer.on) startAnalyzer();\n      else stopAnalyzer();\n    },\n    setAnalyzerMode: (state, { payload }) => {\n      state.analyzer.mode = payload;\n      state.analyzer.on = true;\n    },\n  },\n});\n\nexport const { setDimensions, setAnalyzerMode, setAnalyzerOn } = screenSlice.actions;\n\nexport default screenSlice.reducer;\n\nwindow.addEventListener('resize', handleResize);\nwindow.addEventListener('orientationchange', afterRotate);\nwindow.addEventListener('blur', () => {\n  window.addEventListener('focus', redraw);\n});\n\nlet resizeTimer;\nlet prevWidth = null;\nconst root = document.getElementById('root');\nconst preparingPortal = document.getElementById('preparingPortal');\n\nfunction handleResize() {\n  if (document.documentElement.clientWidth === prevWidth) return; // touch scroll bug hack\n  clearTimeout(resizeTimer);\n  root.style.display = 'none';\n  preparingPortal.style.display = 'initial';\n  resizeTimer = setTimeout(redraw, 350);\n}\nhandleResize();\n\nfunction afterRotate() {\n  redraw();\n  window.location.reload();\n}\n\nfunction redraw() {\n  setTimeout(function () {\n    preparingPortal.style.display = 'none';\n    root.style.display = 'initial';\n    document.body.style.display = 'none';\n    document.body.style.display = 'initial';\n    store.dispatch(setDimensions());\n    prevWidth = document.documentElement.clientWidth;\n  }, 0);\n  window.removeEventListener('focus', redraw);\n}\n","import React, { useMemo } from 'react';\nimport { getGrid } from 'utils/getGrid';\nimport { Button } from '../Button';\nimport { Portal } from '../Portal';\n\nexport const Preparing = ({\n  message = 'preparing...',\n  targetId = 'preparingPortal',\n  cancel,\n}) => {\n  const grid = useMemo(() => getGrid(9), []);\n  return (\n    <Portal targetId={targetId}>\n      <div id='preparing' className='preparing'>\n        <h1 className='prepHeader'>Sequencer64</h1>\n        <div className='prepGrid'>\n          {grid.map((i) => (\n            <div key={`preparing-cell-${i}`} className='prepCell'>\n              <div className={`prepBgColor prepBg${i}`} />\n            </div>\n          ))}\n        </div>\n        <p className='prepMsgContainer'>\n          <span className='prepMsg'>{message}</span>\n        </p>\n        {cancel && <Button onClick={cancel}>cancel</Button>}\n      </div>\n    </Portal>\n  );\n};\n","import { apiSaveSequence, apiDeleteSequence, apiGetUser } from 'api';\nimport { get, set } from 'idb-keyval';\n\nexport const addCloudUserToPayload = async (payload) => {\n  let cloudSeqs = [];\n  try {\n    const cloudUser = await apiGetUser();\n    if (cloudUser?.data && cloudUser.data.username) {\n      payload.loggedIn = true;\n      payload._id = cloudUser.data._id;\n      payload.username = cloudUser.data.username;\n      payload.message = 'user data loaded';\n      cloudSeqs = cloudUser.data.sequences;\n    }\n  } catch (e) {\n    console.error('getUserFromCloud ->\\n', e);\n  } finally {\n    payload.cloudSeqs = cloudSeqs;\n  }\n};\n\nexport const addIDBUserToPayload = async (payload) => {\n  let seqs = [];\n  try {\n    const idbUsername = await get('username');\n    if (!payload.username) payload.username = idbUsername || '';\n    const idbSeqs = await get('sequences');\n    if (idbSeqs) seqs = idbSeqs;\n    if (!payload.message) payload.message = 'user data loaded from device';\n  } catch (e) {\n    console.error('getUserFromIDB ->\\n', e);\n  } finally {\n    payload.idbSeqs = seqs;\n  }\n};\n\nexport const mergeSequences = async (payload) => {\n  payload.mergedSeqs = {};\n  await syncCloudSeqs(payload);\n  await syncIDBSeqs(payload);\n  payload.userSequences = Object.values(payload.mergedSeqs);\n  if (payload.idbUpdate) payload.promises.push(set('sequences', payload.userSequences));\n};\n\nconst syncCloudSeqs = async (payload) => {\n  const { cloudSeqs, idbSeqs, mergedSeqs, promises } = payload;\n  payload.idbUpdate = false;\n  const deletedIds = await get('deleted');\n  for (let cloudSeq of cloudSeqs) {\n    const _id = cloudSeq._id.toString();\n    if (deletedIds && deletedIds.find((deletedId) => deletedId === _id)) {\n      promises.push(deleteSeqFromCloud(_id));\n    } else {\n      mergedSeqs[_id] = cloudSeq;\n      mergedSeqs[_id].synched = true;\n      if (!(_id in idbSeqs)) {\n        payload.idbUpdate = true;\n      }\n    }\n  }\n};\n\nconst syncIDBSeqs = async (payload) => {\n  const { idbSeqs, mergedSeqs, promises, loggedIn } = payload;\n  for (let idbSeq of idbSeqs) {\n    const _id = idbSeq._id.toString();\n    if (!(_id in mergedSeqs)) {\n      mergedSeqs[_id] = idbSeq;\n      const userId = payload._id.toString();\n      mergedSeqs[_id].synched = false;\n      if (\n        idbSeq.author.toString() === userId.toString() ||\n        idbSeq.sharedWith.find((id) => id.toString() === userId.toString())\n      ) {\n        if (loggedIn) {\n          mergedSeqs[_id].synched = true;\n          promises.push(apiSaveSequence(idbSeq));\n        }\n      }\n    }\n  }\n};\n\nconst deleteSeqFromCloud = (_id) => {\n  return new Promise(async (resolve, reject) => {\n    const res = await apiDeleteSequence(_id);\n    if (res.status < 400) {\n      const deletedIds = await get('deleted');\n      if (deletedIds) {\n        const index = deletedIds.indexOf(_id);\n        if (index !== -1) deletedIds.splice(index, 1);\n        await set('deleted', deletedIds);\n      }\n      resolve();\n    } else {\n      reject('failed to update cloud');\n    }\n  });\n};\n\nexport const idbSaveSeqs = async (seq, sequences) => {\n  sequences.push(seq);\n  await set('sequences', sequences);\n};\n\nexport const idbDelSeq = async (_id, sequences) => {\n  let deleted = false;\n  sequences.forEach((sequence, index) => {\n    if (sequence._id.toString() === _id.toString()) {\n      sequences.splice(index, 1);\n      deleted = true;\n    }\n  });\n  if (deleted) await set('sequences', sequences);\n};\n\nexport const flagDeleted = async (_id) => {\n  const deletedIds = await get('deleted');\n  if (!deletedIds) {\n    await set('deleted', [_id]);\n  } else {\n    deletedIds.push(_id);\n    await set('deleted', deletedIds);\n  }\n};\n","import {\n  flagDeleted,\n  addIDBUserToPayload,\n  idbDelSeq,\n  idbSaveSeqs,\n  mergeSequences,\n} from 'App/reducers/functions/user';\nimport { apiDeleteSequence, apiSaveSequence } from 'api';\nimport { getUserFinally, setFetching, setStatus, updateSequencesFinally } from '../appSlice';\nimport { setUserSequences } from '../assetsSlice';\n\nexport const saveSequence = (sequence) => async (dispatch, getState) => {\n  dispatch(setFetching(true));\n  const payload = {\n    message: '',\n    confirmation: '',\n    error: '',\n    newSequences: [...getState().assets.userSequences],\n  };\n  try {\n    await idbSaveSeqs(sequence, payload.newSequences);\n    payload.message = 'success!';\n    payload.confirmation = `succesfully saved ${sequence.name} to device`;\n    await apiSaveSequence(sequence);\n    payload.confirmation += ' and cloud';\n    sequence.synched = true;\n  } catch (e) {\n    if (!payload.message) {\n      payload.message = 'unsuccessful :(';\n      payload.error = 'Error: Please try again later';\n    } else {\n      payload.message = 'updated local database';\n    }\n  } finally {\n    dispatch(setUserSequences(payload.newSequences));\n    dispatch(updateSequencesFinally(payload));\n  }\n};\n\nexport const deleteSequence = (_id) => async (dispatch, getState) => {\n  dispatch(setFetching(true));\n  const payload = {\n    message: '',\n    error: '',\n    newSequences: [...getState().assets.userSequences],\n  };\n  try {\n    await idbDelSeq(_id, payload.newSequences);\n    payload.message = 'success!';\n    await apiDeleteSequence(_id);\n  } catch (e) {\n    if (!payload.message) {\n      payload.message = 'unsuccessful :(';\n      payload.error = 'Error: Please try again later';\n    } else {\n      payload.message = 'updated local database';\n      flagDeleted(_id);\n    }\n  } finally {\n    dispatch(setUserSequences(payload.newSequences));\n    dispatch(updateSequencesFinally(payload));\n  }\n};\n\nexport const getUser = () => async (dispatch, getState) => {\n  dispatch(setFetching(true));\n  let payload = {\n    loggedIn: false,\n    _id: '',\n    username: '',\n    message: '',\n    userSequences: [],\n    promises: [],\n  };\n  try {\n    // await addCloudUserToPayload(payload);\n    await addIDBUserToPayload(payload);\n    await mergeSequences(payload);\n  } catch (e) {\n    console.error('getUser ->\\n', e);\n    payload.message = 'No user data';\n  } finally {\n    dispatch(setUserSequences(payload.userSequences));\n    dispatch(getUserFinally(payload));\n    const online = getState().app.online;\n    if (online && payload.loggedIn && payload.promises.length > 0) {\n      try {\n        await Promise.all(payload.promises);\n        dispatch(setStatus('user data refreshed'));\n      } catch (e) {\n        console.error('getUser | promises ->:\\n', e);\n      }\n    }\n  }\n};\n","import store from 'App/store';\nimport { setServiceWorkerActive } from 'App/reducers/appSlice';\n\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      store.dispatch(setServiceWorkerActive(true));\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorkerRegistration from 'serviceWorkerRegistration';\nimport reportWebVitals from 'reportWebVitals';\nimport 'styles/style.scss';\n\nimport { Preparing } from 'App/shared/Preparing/Preparing';\nconst App = React.lazy(() => import('App/App'));\n\nReactDOM.render(\n  <React.Suspense fallback={<Preparing />}>\n    <App />\n  </React.Suspense>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}